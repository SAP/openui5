<!DOCTYPE HTML>
<html>
<head>

	<meta charset="utf-8">

	<title>Template - sap.ui.core.tmpl (Simple)</title>

	<script src="../shared-config.js"></script>
	<script id="sap-ui-bootstrap"
			src="../../../../../resources/sap-ui-core.js"
			data-sap-ui-libs="sap.ui.commons"
			data-sap-ui-theme="sap_bluecrystal"
			>
	</script>

	<script src="res/tmpl.js"></script>
	<link type="text/css" rel="stylesheet" href="res/tmpl.css">

	<script>
		sap.ui.require(["sap/ui/core/Element"], function(Element) {
			// sample code
			jQuery(function() {

				var oContext = {
					title: "Simple Handlebars Template",
					persons: [{
						firstName: "Tim",
						lastName: "Back"
					}, {
						firstName: "Christoph",
						lastName: "Kraemer"
					}, {
						firstName: "Peter",
						lastName: "Muessig"
					}]
				};

				var oAlternateContext = {
						title: "Alternate Context for Template",
						persons: [{
							firstName: "John",
							lastName: "Doe"
						}, {
							firstName: "Foo",
							lastName: "Bar"
						}]
					};

				new sap.ui.commons.Button({
					text: "Switch Context",
					press: function(oEvent) {
						var oInstance = Element.getElementById("mySimpleTemplate");
						if (oInstance.getContext() == oContext) {
							oInstance.setContext(oAlternateContext);
						} else {
							oInstance.setContext(oContext);
						}
					}
				}).placeAt("buttons");

				sap.ui.template({
					id: "mySimpleTemplate",
					context: oContext
				});

			});
		});

	</script>

</head>
<body class="sapUiBody">

	<h1><code>sap.ui.core.tmpl.Template</code> - Test Page</h1>

	<div id="buttons"></div>

	<div id="mySimpleTemplate" data-type="text/x-handlebars-template">

		<h3>{{title}}</h3>
		<ul>
		{{#each persons}}
			<li>{{firstName}} {{lastName}}</li>
		{{/each}}
		</ul>

	</div>

</body>
</html>