<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="X-UA-Compatible" content="IE=edge">

		<title>JSONView - sap.ui.core.mvc</title>

		<script id="sap-ui-bootstrap"
				src="../../../../../../resources/sap-ui-core.js"
				data-sap-ui-theme="sap_bluecrystal">
		</script>


		<script>
			try{
				sap.ui.getCore().loadLibrary("sap.ui.commons");
			}catch(e){
				alert("This test page requires the library 'sap.ui.commons' which is not available.");
				throw(e);
			}


			// set application namespace. Views and controller are loaded relative to this page
			sap.ui.loader.config({paths:{"sap/ui/core/mvctest": "./"}});

			new sap.ui.commons.Button({text:"Destroy View",press:function(){
				view.destroy();
				view2.destroy();
			}}).placeAt("functions");

			new sap.ui.commons.Button({text:"Create View",press:function(){
				var view = sap.ui.view({id:"myView",viewName:"sap.ui.core.mvctest.Test",type:sap.ui.core.mvc.ViewType.JSON});
				view.placeAt("content");
				view2 = sap.ui.view({id:"id2",viewContent:sJson, type:sap.ui.core.mvc.ViewType.JSON});
				view2.placeAt("content2");
			}}).placeAt("functions");

			new sap.ui.commons.Button({text:"Re-render View",press:function(){
				view.invalidate();
				view2.invalidate();
			}}).placeAt("functions");

			// define View and place it onto the page
			var view = sap.ui.view({id:"myView",viewName:"sap.ui.core.mvctest.Test",type:sap.ui.core.mvc.ViewType.JSON});
			view.placeAt("content");

			var sJson = '{ "Type": "sap.ui.core.JSONView",	"controllerName":"sap.ui.core.mvctest.Test",	"content": [{"Type":"sap.ui.core.HTML","content":"<span>JSON view instantiated with JSON string:</span><br>"},{		"Type":"sap.ui.commons.layout.MatrixLayout",		"rows": [{			"Type":"sap.ui.commons.layout.MatrixLayoutRow",			"cells": [{				"Type":"sap.ui.commons.layout.MatrixLayoutCell",				"content": [{					"Type":"sap.ui.commons.Button",					"text":"Button in Layout",					"press":"doIt"				}]			}]		}]	},	{		"Type":"sap.ui.commons.Panel",		"id":"myPanel",		"content":[{			"Type":"sap.ui.commons.Button",			"id":"Button1",			"text":"Button in Panel",			"press": "doIt"		},		{			"Type":"sap.ui.commons.Button",			"text":"Another Button for the Panel"		}]	},	{		"Type":"sap.ui.core.mvc.XMLView",		"id":"myViewEmbedded",		"viewName":"sap.ui.core.mvctest.Test2"	}]}';
			var view2 = sap.ui.view({id:"id2",viewContent:sJson, type:sap.ui.core.mvc.ViewType.JSON});
			view2.placeAt("content2");
			//var html = new sap.ui.core.HTML({content:"<&lt;span&gt;JSON view instantiated with JSON string:&lt;/span&gt;&lt;br/&gt;"});
			//html.setContent("&lt;span&gt;JSON view instantiated with JSON string:&lt;/span&gt;&lt;br/&gt;");
			//html.placeAt("content");
		</script>
	</head>

	<body class="sapUiBody" role="application">
		<h1>Test Page for sap.ui.core.JSONView</h1>
		<hr/>
		<div id="functions"></div>
		<hr/>
		<div id="content"></div>
		<br>
		<hr/>
		<div id="content2"></div>
	</body>
</html>
