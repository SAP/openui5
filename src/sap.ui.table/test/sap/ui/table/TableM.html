<!DOCTYPE HTML>
<html lang="en">
<head>

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta charset="utf-8">

<title>Table - sap.ui.table</title>
<link rel="shortcut icon" type="image/x-icon" href="images/controls/sap.ui.table.Table.gif">

<script src="shared-config.js"></script>
<script id="sap-ui-bootstrap"
		data-sap-ui-libs="sap.m,sap.ui.table,sap.ui.unified"
		src="../../../../resources/sap-ui-core.js"></script>
		
<script src="Settings.js"></script>

<script>

function pressHandler(oEvent) {
	var bCellClick = oEvent.getId() === "cellClick";
	jQuery.sap.log.warning((bCellClick ? "Cell" : oEvent.getSource().getMetadata().getName()) + " pressed");
	if (!bCellClick) {
		oEvent.preventDefault();
	}
}

(new sap.m.Button({
	text: "Just a Button before"
})).placeAt("content");

var oTable = new sap.ui.table.Table({
	title: "Title of the Table",
	footer: "Footer of the Table",
	selectionMode: sap.ui.table.SelectionMode.MultiToggle,
	cellClick: pressHandler
});

oTable.setToolbar(new sap.m.Toolbar({content: [
	new sap.m.Button({
		text: "First Toolbar Button",
		press: function() {
			alert("Pressed");
		}
	}),
	new sap.m.Button({
		text: "Second Toolbar Button",
		press: function() {
			alert("Pressed");
		}
	})
]}));


// create columns
var oControl, oColumn;

// sap.m.Text
oControl = new sap.m.Text({text: "{lastName}"});
oColumn = new sap.ui.table.Column({label: new sap.m.Label({text: "m.Text"}), template: oControl, sortProperty: "lastName", filterProperty: "lastName", width: "120px"});
oTable.addColumn(oColumn);

// sap.m.Label
oControl = new sap.m.Label({text: "{name}"});
oColumn = new sap.ui.table.Column({label: new sap.m.Label({text: "m.Label"}), template: oControl, sortProperty: "name", filterProperty: "name", width: "6em"});
oTable.addColumn(oColumn);

// sap.m.ObjectStatus
oControl = new sap.m.ObjectStatus({text: "{objStatusText}", state: "{objStatusState}"});
oColumn = new sap.ui.table.Column({label: new sap.m.Label({text: "m.ObjectStatus"}), template: oControl, sortProperty: "objStatusState", filterProperty: "objStatusState", width: "200px"});
oTable.addColumn(oColumn);

// sap.ui.core.Icon
oControl = new sap.ui.core.Icon({src: "sap-icon://account", decorative: false});
oColumn = new sap.ui.table.Column({resizable: false, label: new sap.m.Label({text: "core.Icon"}), template: oControl, width: "80px", hAlign: sap.ui.core.HorizontalAlign.Center});
oTable.addColumn(oColumn);

// sap.m.Button
oControl = new sap.m.Button({text: "{gender}", press: pressHandler});
oColumn = new sap.ui.table.Column({label: new sap.m.Label({text: "m.Button"}), template: oControl, width: "100px"});
oTable.addColumn(oColumn);

// sap.m.Input
oControl = new sap.m.Input({value: "{name}"});
oColumn = new sap.ui.table.Column({label: new sap.m.Label({text: "m.Input"}), template: oControl, width: "200px"});
oTable.addColumn(oColumn);

// sap.m.DatePicker
oControl = new sap.m.DatePicker({dateValue: "{birthdayDate}"});
oColumn = new sap.ui.table.Column({label: new sap.m.Label({text: "m.DatePicker"}), template: oControl, width: "200px"});
oTable.addColumn(oColumn);

// sap.m.Select
oControl = new sap.m.Select({items: [
		new sap.ui.core.Item({key: "v1", text: "Value 1"}),
		new sap.ui.core.Item({key: "v2", text: "Value 2"}),
		new sap.ui.core.Item({key: "v3", text: "Value 3"}),
		new sap.ui.core.Item({key: "v4", text: "Value 4"})
]
});
oColumn = new sap.ui.table.Column({label: new sap.m.Label({text: "m.Select"}), template: oControl, width: "150px"});
oTable.addColumn(oColumn);

// sap.m.Select
oControl = new sap.m.ComboBox({items: [
	new sap.ui.core.Item({key: "v1", text: "Value 1"}),
	new sap.ui.core.Item({key: "v2", text: "Value 2"}),
	new sap.ui.core.Item({key: "v3", text: "Value 3"}),
	new sap.ui.core.Item({key: "v4", text: "Value 4"})
]
});
oColumn = new sap.ui.table.Column({label: new sap.m.Label({text: "m.ComboBox"}), template: oControl, width: "150px"});
oTable.addColumn(oColumn);

// sap.m.Select
oControl = new sap.m.MultiComboBox({items: [
	new sap.ui.core.Item({key: "v1", text: "Value 1"}),
	new sap.ui.core.Item({key: "v2", text: "Value 2"}),
	new sap.ui.core.Item({key: "v3", text: "Value 3"}),
	new sap.ui.core.Item({key: "v4", text: "Value 4"})
]
});
oColumn = new sap.ui.table.Column({label: new sap.m.Label({text: "m.MultiComboBox"}), template: oControl, width: "250px"});
oTable.addColumn(oColumn);

// sap.m.Checkbox
oControl = new sap.m.CheckBox({selected: "{checked}", text: "{lastName}"});
oColumn = new sap.ui.table.Column({label: new sap.m.Label({text: "m.Checkbox"}), template: oControl, width: "50px"});
oTable.addColumn(oColumn);

//sap.m.RadioButton
//RadioButton makes no sense in the table because to work correctly all radio buttons must be available otherwise the group feature
//will not work correctly. Radio Button without groups makes not really sense (except of readonly) because the state cannot be changed.
/*oControl = new sap.m.RadioButton({selected: "{checked}", text: "{lastName}", groupName: ""});
oColumn = new sap.ui.table.Column({label: new sap.m.Label({text: "m.RadioButton"}), template: oControl, width: "50px"});
oTable.addColumn(oColumn);*/

// sap.m.Link
oControl = new sap.m.Link({href: "{href}", text: "{linkText}", press: pressHandler});
oColumn = new sap.ui.table.Column({label: new sap.m.Label({text: "m.Link"}), template: oControl, width: "150px"});
oTable.addColumn(oColumn);

// sap.ui.unified.Currency
oControl = new sap.ui.unified.Currency({value: "{money}", currency: "{currency}"});
oColumn = new sap.ui.table.Column({label: new sap.m.Label({text: "unified.Currency"}), template: oControl, width: "200px"});
oTable.addColumn(oColumn);

//sap.m.ProgressIndicator
oControl = new sap.m.ProgressIndicator({percentValue: {path: "lastName", formatter: function(sValue) {
	sValue = sValue || "";
	return (sValue.length*10)%100;
}}});
oColumn = new sap.ui.table.Column({label: new sap.m.Label({text: "m.ProgressIndicator"}), template: oControl, width: "150px"});
oTable.addColumn(oColumn);

//sap.m.RatingIndicator
oControl = new sap.m.RatingIndicator({value: {path: "lastName", formatter: function(sValue) {
	sValue = sValue || "";
	return sValue.length % 5;
}}});
oColumn = new sap.ui.table.Column({label: new sap.m.Label({text: "m.RatingIndicator"}), template: oControl, width: "200px"});
oTable.addColumn(oColumn);

//sap.m.HBox with sap.m.Link || sap.m.Text
oControl = new sap.m.HBox({width: "100%", items: [
	new sap.m.Link({visible: "{checked}", href: "{href}", text: "{linkText}"}),
	new sap.m.Text({text: "{linkText}", visible: {path: "checked", formatter: function(bChecked){return !bChecked;}}})
]});
oColumn = new sap.ui.table.Column({visible: "{flex>/flex}", label: new sap.m.Label({text: "m.HBox with Link and Text (partially hidden)"}), template: oControl, width: "200px"});
oTable.addColumn(oColumn);

//sap.m.HBox with sap.m.Link && sap.m.Text
oControl = new sap.m.HBox({width: "100%", items: [
	new sap.m.Link({href: "{href}", text: "{href}"}),
	new sap.m.Text({text: "{linkText}"})
]});
oColumn = new sap.ui.table.Column({visible: "{flex>/flex}", label: new sap.m.Label({text: "m.HBox with Link and Text"}), template: oControl, width: "400px"});
oTable.addColumn(oColumn);

//sap.m.HBox with 2 sap.m.Button
oControl = new sap.m.HBox({width: "100%", items: [
	new sap.m.Button({text: "{gender}"}),
	new sap.m.Button({text: "{gender}"})
]});
oColumn = new sap.ui.table.Column({visible: "{flex>/flex}", label: new sap.m.Label({text: "m.HBox with 2 Buttons"}), template: oControl, width: "200px"});
oTable.addColumn(oColumn);

//sap.m.HBox with 2 sap.m.Input
oControl = new sap.m.HBox({width: "100%", items: [
	new sap.m.Input({value: "{name}"}),
	new sap.m.Input({value: "{name}"})
]});
oColumn = new sap.ui.table.Column({visible: "{flex>/flex}", label: new sap.m.Label({text: "m.HBox with 2 Inputs"}), template: oControl, width: "200px"});
oTable.addColumn(oColumn);




// set Model and bind Table
var oModel = new sap.ui.model.json.JSONModel();
oModel.setData({modelData: TABLESETTINGS.listTestData});
oTable.setModel(oModel);
oTable.bindRows("/modelData");
oTable.placeAt("content");
(new sap.m.Button({text: "Just a Button after"})).placeAt("content");

var oFlexModel = new sap.ui.model.json.JSONModel();
oFlexModel.setData({flex: false});
oTable.setModel(oFlexModel, "flex");

function showFlexBoxColumns() {
	oFlexModel.setProperty("/flex", true);
}

TABLESETTINGS.init(oTable, function(oButton) {
	oTable.getToolbar().addContent(oButton);
});

</script>
</head>
<body class="sapUiBody sapUiSizeCozy" role="application">
<h1 id="header">Test Page for <code>sap.ui.table.Table</code> with <code>sap.m</code> library</h1>
<div id="content"></div>
</body>
</html>
