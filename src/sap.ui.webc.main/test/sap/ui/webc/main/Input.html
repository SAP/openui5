<!DOCTYPE HTML>
<html>

<head>
	<meta charset="utf-8">
	<title>Input - sap.ui.webc.main</title>
	<script src="shared-config.js"></script>
	<script src="../../../../../resources/sap-ui-core.js"
		id="sap-ui-bootstrap"
		data-sap-ui-libs="sap.ui.webc.main, sap.ui.layout"
		data-sap-ui-resourceroots='{
			"qunit.internal.acc": "../../../../../test-resources/sap/ui/core/qunit/internal/acc"
		}'>
	</script>
	<style>
		.sapUiBody {
			height: 100vh;
			overflow: hidden;
		}
	</style>

	<script>
		sap.ui.getCore().attachInit(function () {
			sap.ui.require([
				"sap/ui/webc/main/Input",
				"sap/ui/webc/main/Label",
				"sap/ui/webc/main/Title",
				"sap/ui/webc/main/Toast",
				"sap/ui/webc/fiori/Bar",
				"sap/ui/webc/fiori/Page",
				"sap/ui/webc/main/Icon",
				"sap/ui/webc/main/SuggestionGroupItem",
				"sap/ui/webc/main/SuggestionItem",
				"sap/ui/webc/main/Button",
				"sap/ui/layout/VerticalLayout"
			], function (
				Input,
				Label,
				Title,
				Toast,
				Bar,
				Page,
				Icon,
				SuggestionGroupItem,
				SuggestionItem,
				Button,
				VerticalLayout
			) {
				var oVerticalLayout = new VerticalLayout({
					content: [
						new Label("label1", {
							labelFor: "input1",
							required: true,
							showColon: true,
							text: "Items with grouping and value state",
							wrappingType: "Normal",
							width: "15rem",
						}),
						new Input("input1", {
							ariaLabelledBy: "label1",
							accessibleName: "Demo input",
							name: "Name",
							placeholder: "Type 'a' to show suggestions",
							required: true,
							showClearIcon: true,
							valueState: "Error",
							valueStateMessage: "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",
							showSuggestions: true,
							suggestionItems: [
								new SuggestionGroupItem({
									text: "A"
								}),
								new SuggestionItem({
									additionalText: "Some text...",
									text: "Austria"
								}),
								new SuggestionGroupItem({
									text: "G"
								}),
								new SuggestionItem({
									additionalText: "Some text...",
									text: "Germany"
								}),
							],
							change: handleChange,
							input: handleInput,
							suggestionItemPreview: handleSuggestionItemPreview,
							suggestionItemSelect: handleSuggestionItemSelect
						}),
						new Label("label2", {
							labelFor: "input2",
							showColon: true,
							text: "Compact Input",
							wrappingType: "Normal",
							width: "15rem",
						}),
						new Input("input2", {
							ariaLabelledBy: "label2",
							placeholder: "Type something",
							valueState: "Error",
							valueStateMessage: "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",
							change: handleChange,
							input: handleInput,
						}).addStyleClass("sapUiSizeCompact"),
						new Label("label3", {
							labelFor: "input3",
							text: "Disabled Input"
						}),
						new Input("input3", {
							ariaLabelledBy: "label3",
							value: "Disabled",
							enabled: false
						}),
						new Label("label4", {
							labelFor: "input4",
							text: "Readonly Input"
						}),
						new Input("input4", {
							ariaLabelledBy: "label4",
							value: "Readonly",
							readonly: true
						}),
						new Label("label15", {
							labelFor: "input15",
							text: "Clear Icon Input"
						}),
						new Input("input15", {
							ariaLabelledBy: "label15",
							value: "Hello world",
							showClearIcon: true,
							change: handleChange,
							input: handleInput,
						}),
						new Label("label5", {
							labelFor: "input5",
							text: "Input with error value state"
						}),
						new Input("input5", {
							ariaLabelledBy: "label5",
							value: "Error Input",
							valueState: "Error",
							change: handleChange,
							input: handleInput,
						}),
						new Label("label6", {
							labelFor: "input6",
							text: "Input with warning value state"
						}),
						new Input("input6", {
							ariaLabelledBy: "label6",
							value: "Warning Input",
							valueState: "Warning",
							change: handleChange,
							input: handleInput,
						}),
						new Label("label7", {
							labelFor: "input7",
							text: "Input with success value state"
						}),
						new Input("input7", {
							ariaLabelledBy: "label7",
							value: "Success Input",
							valueState: "Success",
							change: handleChange,
							input: handleInput,
						}),
						new Label("label8", {
							labelFor: "input8",
							text: "Input with information value state"
						}),
						new Input("input8", {
							ariaLabelledBy: "label8",
							value: "Information Input",
							valueState: "Information",
							change: handleChange,
							input: handleInput,
						}),
						new Label("label9", {
							labelFor: "input9",
							text: "Input with maxlength=10"
						}),
						new Input("input9", {
							ariaLabelledBy: "label9",
							value: "MaxLenIs10",
							maxlength: 10,
							change: handleChange,
							input: handleInput,
						}),
						new Label({
							labelFor: "input10",
							text: "Number Input"
						}),
						new Input("input10", {
							value: "123456789",
							type: "Number",
							maxlength: 10
						}),
						new Label({
							labelFor: "input11",
							text: "Password Input"
						}),
						new Input("input11", {
							value: "12345678",
							type: "Password"
						}),
						new Label({
							labelFor: "input12",
							text: "Tel Input"
						}),
						new Input("input12", {
							value: "+123456789",
							type: "Tel"
						}),
						new Label({
							labelFor: "input13",
							text: "Email Input"
						}),
						new Input("input13", {
							value: "me@sap.com",
							type: "Email"
						}),
						new Label({
							labelFor: "input16",
							text: "Input with custom icons"
						}),
						new Input("input16", {
							value: "abc",
							showClearIcon: true,
							icon: [
								new Icon({
									color: "blue",
									name: "add"
								}),
								new Icon({
									color: "red",
									name: "add"
								}),
							]
						}),
						new Label({
							labelFor: "input14",
							text: "URL Input"
						}),
						new Input("input14", {
							value: "https://www.sap.com",
							type: "URL"
						}),
						new Label("label17", {
							labelFor: "input17",
							text: "Input with data binding"
						}),
						new Input("input17", {
							ariaLabelledBy: "label17",
							showSuggestions: true,
							placeholder: "Type 'a'...",
							change: handleChange,
							input: handleInput,
						})
					]
				}).addStyleClass("sapUiContentPadding");

				jQuery.ajax({
					url: "https://dummyjson.com/products?limit=20",
					dataType: "json",
					success: function (data) {
						var oInput = sap.ui.getCore().byId("input17");
						oInput.setModel(new sap.ui.model.json.JSONModel({ modelData: data.products }));
						oInput.bindAggregation("suggestionItems", {
							path: "/modelData",
							template: new SuggestionItem({
								text: "{title}",
								additionalText: "{brand}",
							}),
							key: "id"
						});
					},
					error: function () {
						toast.setText("An error has occurred while fetching data.");
						toast.show();
					}
				});

				var toast = new Toast("toast", {
					duration: 3000
				})
				toast.placeAt("body");

				function handleChange(oEvent) {
					console.log("Event change fired for Input with parameters: ", oEvent.getParameters());
					toast.setText("Event change fired.");
					toast.show();
				}

				function handleInput(oEvent) {
					console.log("Event input fired for Input with parameters: ", oEvent.getParameters());
					toast.setText("Event input fired.");
					toast.show();
				}

				function handleSuggestionItemPreview(oEvent) {
					console.log("Event suggestionItemPreview fired for Input with parameters: ", oEvent.getParameters());
					toast.setText("Event suggestionItemPreview fired.");
					toast.show();
				}

				function handleSuggestionItemSelect(oEvent) {
					console.log("Event suggestionItemSelect fired for Input with parameters: ", oEvent.getParameters());
					toast.setText("Event suggestionItemSelect fired.");
					toast.show();
				}

				function handleIconClick(oEvent) {
					console.log("Event click fired for Icon with parameters: ", oEvent.getParameters());
					toast.setText("Event click fired for Icon.");
					toast.show();
				}

				var oPage = new Page("page", {
					header: new Bar({
						middleContent: [
							new Title({ text: "Test page for sap.ui.webc.main.Input" })
						]
					}),
					content: [
						oVerticalLayout
					]
				});

				oPage.placeAt("body");
			});
		});
	</script>
</head>

<body id="body" class="sapUiBody">
</body>

</html>
