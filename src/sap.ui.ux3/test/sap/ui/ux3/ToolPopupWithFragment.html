<!DOCTYPE HTML>
<html>
<head>
<title>ToolPopup - sap.ui.ux3</title>

<script src="shared-config.js"></script>
<script id="sap-ui-bootstrap"
	src="../../../../resources/sap-ui-core.js" data-sap-ui-noConflict="true"
	data-sap-ui-libs="sap.ui.ux3,sap.ui.commons,sap.ui.table">

</script>

<!-- Fragment #1: ToolPopup, Table w/ Toolbar -->
<script id="view1" type="sapui5/xmlview">
		<ux3:ToolPopup id="myTP" xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc"
			xmlns="sap.ui.commons" xmlns:ux3="sap.ui.ux3" xmlns:table="sap.ui.table"
			autoClose="true">
			<table:Table>
				<table:columns>
					<table:Column sortProperty="test" sorted="true" sortOrder="Descending">
						<Label text="Label" />
						<table:template>
							<TextView text="text" />
						</table:template>
					</table:Column>
				</table:columns>
			</table:Table>
		</ux3:ToolPopup>
	</script>

<!-- Fragment #2: Table w/ Toolbar -->
<script id="view2" type="sapui5/xmlview">
		<table:Table xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc"
			xmlns="sap.ui.commons" xmlns:ux3="sap.ui.ux3" xmlns:table="sap.ui.table"
			autoClose="true">

		</table:Table>
	</script>

<script>
	// Change variable to respective snippix:
	var iFragmentNumberToUse = 1; // 1 or 2

	var oToolPopup;
	new sap.ui.commons.Button({
		text : "popup",
		press : function() {
			if (!oToolPopup) {
				if (iFragmentNumberToUse == 1) {
					oToolPopup = sap.ui.xmlfragment({
						fragmentContent : jQuery('#view1').html()
					}, {});
					//oFragment.setInitialFocus(sap.ui.getCore().byId("tb1"));
				} else if (iFragmentNumberToUse == 2) {
					oToolPopup = new sap.ui.ux3.ToolPopup({
						autoClose : true,
						content : sap.ui.xmlfragment({
							fragmentContent : jQuery('#view2').html()
						}, {})
					});
				}
			}
			if (oToolPopup.isOpen()) {
				oToolPopup.close();
			} else {
				oToolPopup.open();
			}
		}
	}).placeAt("content");
</script>

</head>
<body class='sapUiBody'>
	<div id='content'></div>
</body>
</html>