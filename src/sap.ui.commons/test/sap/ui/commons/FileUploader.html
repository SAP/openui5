<!DOCTYPE HTML>
<html>
	<head>

		<title>FileUploader - sap.ui.commons</title>

		<script src="shared-config.js"></script>
		<script id="sap-ui-bootstrap"
				data-sap-ui-theme="sap_bluecrystal"
				data-sap-ui-libs="sap.ui.commons"
				src="../../../../resources/sap-ui-core.js"
				>
		</script>

		<script>

			var oFileUploader1 = new sap.ui.commons.FileUploader("upload_1", {
				name: "test1",
				uploadUrl: "../../../../upload/",
				value: "",
				width: "250px",
				tooltip: "Upload your file to the local server.",
				additionalData: "abc=123&test=456",
				uploadComplete: function (oEvent) {
					var sResponse = oEvent.getParameter("response");
					if (sResponse) {
						var m = /^\[(\d\d\d)\]:(.*)$/.exec(sResponse);
						if (m[1] == "200") {
							sap.ui.commons.MessageBox.show("Return Code: " + m[1] + "\n" + m[2], "SUCCESS", "Upload Success");
						} else {
							sap.ui.commons.MessageBox.show("Return Code: " + m[1] + "\n" + m[2], "ERROR", "Upload Error");
						}
					}
				}
			});

			var oLabel = new sap.ui.commons.Label({ text: "Fileuploader to the local server: ", labelFor: oFileUploader1});
			oLabel.placeAt("target1");
			oFileUploader1.placeAt("target1");

			var oFileUploader2 = new sap.ui.commons.FileUploader("upload_2", {
				name: "test2",
				width: "350px",
				tooltip: "Upload your file to the SAPUI5 Test-Server.",
				uploadComplete: function (oEvent) {
					alert("File has been uploaded via File Uploader 2!");
				}
			});
			oFileUploader2.setUploadUrl("../../../../upload/");

			var oLabel = new sap.ui.commons.Label({ text: "Fileuploader to the SAPUI5 Test-Server: ", labelFor: oFileUploader2});
			oLabel.placeAt("target2");
			oFileUploader2.placeAt("target2");

			var oFileUploader3 = new sap.ui.commons.FileUploader("upload_3", {
				name: "test3",
				uploadUrl: "../../../../upload/",
				value: "",
				width: "250px",
				tooltip: "Upload your file to the local server.",
				additionalData: "abc=123&test=456",
				parameters: [
					new sap.ui.commons.FileUploaderParameter({name: "name1", value: "value1"}),
					new sap.ui.commons.FileUploaderParameter({name: "name2", value: "value2"}),
					new sap.ui.commons.FileUploaderParameter({name: "name3", value: "value3"})
				]
			});

			var oLabel3 = new sap.ui.commons.Label({ text: "Fileuploader to the local server (incl. parameters): ", labelFor: oFileUploader3});
			oLabel3.placeAt("target3");
			oFileUploader3.placeAt("target3");

			var oButton = new sap.ui.commons.Button({
				text : "Upload Uploader 1",
				press : function() {
					oFileUploader1.upload();
				}
			});
			oButton.placeAt("target4");

			var oButton2 = new sap.ui.commons.Button({
				text : "Upload Uploader 2",
				press : function() {
					oFileUploader2.upload();
				}
			});
			oButton2.placeAt("target4");

			var oButton3 = new sap.ui.commons.Button({
				text : "Upload Uploader 3",
				press : function() {
					oFileUploader3.upload();
				}
			});
			oButton3.placeAt("target4");

			var oFileUploader4 = new sap.ui.commons.FileUploader("upload_4", {
				name: "test4",
				uploadUrl: "../../../../upload/",
				value: "",
				width: "400px",
				tooltip: "Upload your file to the local server.",
				placeholder: "Choose a file for uploading...",
				icon: "images/Button_regular.png",
				iconHovered: "images/Button_hover.png",
				iconSelected: "images/Button_down.png",
				uploadComplete: function (oEvent) {
					alert("File has been uploaded via File Uploader 4!");
				}
			});

			var oLabel4 = new sap.ui.commons.Label({ text: "Fileuploader to the local server (with icon): ", labelFor: oFileUploader4});
			oLabel4.placeAt("target5");
			oFileUploader4.placeAt("target5");

			var oFileUploader5 = new sap.ui.commons.FileUploader("upload_5", {
				name: "test5",
				uploadUrl: "../../../../upload/",
				value: "",
				width: "400px",
				tooltip: "Upload your file to the local server.",
				placeholder: "Choose a file for uploading...",
				icon: "sap-icon://lead",
				iconFirst: false,
				uploadComplete: function (oEvent) {
					alert("File has been uploaded via File Uploader 5!");
				}
			});

			var oLabel5 = new sap.ui.commons.Label({ text: "Fileuploader to the local server (with icon font): ", labelFor: oFileUploader5});
			oLabel5.placeAt("target6");
			oFileUploader5.placeAt("target6");

			var oButton4 = new sap.ui.commons.Button({
				text : "Upload Uploader 4",
				press : function() {
					oFileUploader4.upload();
				}
			});
			oButton4.placeAt("target7");

			var oButton5 = new sap.ui.commons.Button({
				text : "Upload Uploader 5",
				press : function() {
					oFileUploader5.upload();
				}
			});
			oButton5.placeAt("target7");

		</script>
	</head>

	<body class="sapUiBody" role="application">
		<h1>Test Page for sap.ui.commons.FileUploader</h1>
		<p>
			<div id="target1"></div>
		</p>
		<p>
			<div id="target2"></div>
		</p>
		<p>
			<div id="target3"></div>
		</p>
		<p>
			<div id="target4"></div>
		</p>
		<p>
			<div id="target5"></div>
		</p>
		<p>
			<div id="target6"></div>
		</p>
		<p>
			<div id="target7"></div>
		</p>
		<p>
		<form enctype="multipart/form-data" method="post" id="upload_4-fu_form" action="../../../../upload/" target="upload_4-frame">
			<input type="file" name="test4" id="upload_4-fu">
			<input type="hidden" name="test4-data" id="upload_4-fu_data" value="abc=123&amp;test=456">
		</form>
		<iframe style="display: none" id="upload_4-frame"></iframe>
		<button onclick="document.getElementById('upload_4-fu_form').submit()">Trigger Upload</button>
	</body>
</html>