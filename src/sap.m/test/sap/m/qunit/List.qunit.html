<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<title>qUnit Page for sap.m.List and all sap.m List Items</title>

<script id="sap-ui-bootstrap" type="text/javascript" src="../../../../resources/sap-ui-core.js" data-sap-ui-theme="sap_bluecrystal" data-sap-ui-noConflict="true"
	data-sap-ui-libs="sap.m">

</script>

<link rel="stylesheet" href="../../../../resources/sap/ui/thirdparty/qunit.css" type="text/css" media="screen" />
<script src="../../../../resources/sap/ui/thirdparty/qunit.js"></script>
<script type="text/javascript" src="../../../../resources/sap/ui/qunit/qunit-junit.js"></script>
<script src="../../../../resources/sap/ui/thirdparty/sinon.js"></script>
<script src="../../../../resources/sap/ui/thirdparty/sinon-qunit.js"></script>
<script src="../../../../resources/sap/ui/qunit/QUnitUtils.js"></script>

<script>

	// sinon timers cause issues with page transitions 
	sinon.config.useFakeTimers = false;

	var app = new sap.m.App("myApp");
	//alert((app.isLandscape() ? "Landscape" : "Portrait"));


	/*
	// ================================================================================
	// create application pages for the different lists
	// ================================================================================
	*/
	var listOverview = new sap.m.Page("listOverview", {
		title : "List Overview",
		footer : new sap.m.Bar({
			contentMiddle : [ new sap.m.Button({
				text : "Embedded",
				press : switchStyle
			}) ]
		})
	});

	var detailPage = new sap.m.Page("detailPage", {
		title : "Detail Page",
		showNavButton : true,
		navButtonText : "Back",
		navButtonPress : function() {
			app.back();
		}
	});

	// ================================================================================

	var standardListThumb = new sap.m.Page("standardListThumb", {
		title : "Standard List Thumb",
		showNavButton : true,
		navButtonText : "Back",
		navButtonPress : function() {
			app.back();
		},
		footer : new sap.m.Bar({
			contentMiddle : [ new sap.m.Button({
				text : "Embedded",
				press : switchStyle
			}) ]
		})
	});

	var standardListIcon = new sap.m.Page("standardListIcon", {
		title : "Standard List Icon",
		showNavButton : true,
		navButtonText : "Back",
		navButtonPress : function() {
			app.back();
		},
		footer : new sap.m.Bar({
			contentMiddle : [ new sap.m.Button({
				text : "Embedded",
				press : switchStyle
			}) ]
		})
	});

	var standardListTitle = new sap.m.Page("standardListTitle", {
		title : "Standard List Title",
		showNavButton : true,
		navButtonText : "Back",
		navButtonPress : function() {
			app.back();
		},
		footer : new sap.m.Bar({
			contentMiddle : [ new sap.m.Button({
				text : "Embedded",
				press : switchStyle
			}) ]
		})
	});

	var standardListNoImage = new sap.m.Page("standardListNoImage", {
		title : "Standard List no Image",
		showNavButton : true,
		navButtonText : "Back",
		navButtonPress : function() {
			app.back();
		}
	});

	var displayList = new sap.m.Page("displayList", {
		title : "Display list",
		showNavButton : true,
		navButtonText : "Back",
		navButtonPress : function() {
			app.back();
		},
		footer : new sap.m.Bar({
			contentMiddle : [ new sap.m.Button({
				text : "Embedded",
				press : switchStyle
			}) ]
		})
	});

	var inputList = new sap.m.Page("inputList", {
		title : "Input List",
		showNavButton : true,
		navButtonText : "Back",
		navButtonPress : function() {
			app.back();
		},
		footer : new sap.m.Bar({
			contentMiddle : [ new sap.m.Button({
				text : "Embedded",
				press : switchStyle
			}) ]
		})
	});

	var customList = new sap.m.Page("customList", {
		title : "Custom List",
		showNavButton : true,
		navButtonText : "Back",
		navButtonPress : function() {
			app.back();
		},
		footer : new sap.m.Bar({
			contentMiddle : [ new sap.m.Button({
				text : "Embedded",
				press : switchStyle
			}) ]
		})
	});

	var groupedList = new sap.m.Page("groupedList", {
		title : "Grouped List",
		showNavButton : true,
		navButtonText : "Back",
		navButtonPress : function() {
			app.back();
		},
		footer : new sap.m.Bar({
			contentMiddle : [ new sap.m.Button({
				text : "Embedded",
				press : switchStyle
			}) ]
		})
	});

	var groupedNoHeaderList = new sap.m.Page("groupedNoHeaderList", {
		title : "Grouped List without Header/Footer",
		showNavButton : true,
		navButtonText : "Back",
		navButtonPress : function() {
			app.back();
		},
		footer : new sap.m.Bar({
			contentMiddle : [ new sap.m.Button({
				text : "Embedded",
				press : switchStyle
			}) ]
		})
	});

	var selectionList = new sap.m.Page("selectionList", {
		title : "Selection List",
		showNavButton : true,
		navButtonText : "Back",
		navButtonPress : function() {
			app.back();
		},
		footer : new sap.m.Bar({
			contentMiddle : [
				new sap.m.Button({
					text : "Embedded",
					press : switchStyle
				}),
				new sap.m.Button({
					text : "None",
					press : switchModeNone
				}),
				new sap.m.Button({
					text : "Single",
					press : switchModeSingle
				}),
				new sap.m.Button({
					text : "Multi",
					press : switchModeMulti
				}),
				new sap.m.Button({
					text : "Delete",
					press : switchModeDelete
				})
			]
		})
	});

	var invisibleList = new sap.m.Page("invisibleList", {
		title : "Invisible List",
		showNavButton : true,
		navButtonText : "Back",
		navButtonPress : function() {
			app.back();
		}
	});

	var noDataList = new sap.m.Page("noDataList", {
		title : "No Data List",
		showNavButton : true,
		navButtonText : "Back",
		navButtonPress : function() {
			app.back();
		},
		footer : new sap.m.Bar({
			contentMiddle : [
				new sap.m.Button({
					text : "Embedded",
					press : switchStyle
				}),
				new sap.m.Button({
					text : "None",
					press : function() {switchModeNone(oListNoData) }
				}),
				new sap.m.Button({
					text : "Single",
					press : function() {switchModeSingle(oListNoData) }
				}),
				new sap.m.Button({
					text : "SingleMaster",
					press : function() {switchModeSingleMaster(oListNoData) }
				}),
				new sap.m.Button({
					text : "Multi",
					press : function() {switchModeMulti(oListNoData) }
				}),
				new sap.m.Button({
					text : "Delete",
					press : function() {switchModeDelete(oListNoData) }
				}),
				new sap.m.Button({
					text : "Switch Mode Interaction",
					press : function() {switchModeInteraction(oListNoData) }
				})
			]
		})
	});

	var swipeContentPage = new sap.m.Page("swipeContentPage", {
		title : "Swipe Content Test",
		content : [swipeContentList = new sap.m.List({
			inset : true,
			swipeContent : new sap.m.Button({
				text : "Approve",
				type : "Accept",
				press : function(e) {
					list.swipeOut();
				}
			}),
			swipe : function(e) {
				var li = e.getParameter("listItem");
				li.setLabel(li.getLabel() + " " + new Date().toLocaleTimeString());
				sap.ui.getCore().applyChanges();
			},
			items : [new sap.m.DisplayListItem({
				label : "Test",
				value : "Swipe Value"
			})]
		})]
	});

	/*
	// ================================================================================
	// create application sample for the data binding
	// ================================================================================
	*/
	jQuery.sap.require("sap.ui.model.json.JSONModel");
	// JSON sample data

	var dataOverview = {
		navigation : [ {
			title : "Standard List Thumb",
			type : "Navigation",
			press : 'standardListThumb'
		}, {
			title : "Standard List Icon",
			type : "Navigation",
			press : 'standardListIcon'
		}, {
			title : "Standard List Title",
			type : "Navigation",
			press : 'standardListTitle'
		}, {
			title : "Standard List no Image",
			type : "Navigation",
			press : 'standardListNoImage'
		}, {
			title : "Display List",
			type : "Navigation",
			press : 'displayList'
		}, {
			title : "Input List",
			type : "Navigation",
			press : 'inputList'
		}, {
			title : "Custom List",
			type : "Navigation",
			press : 'customList'
		}, {
			title : "Grouped List",
			type : "Navigation",
			press : 'groupedList'
		}, {
			title : "Grouped List without Header/Footer",
			type : "Navigation",
			press : 'groupedNoHeaderList'
		},{
			title : "No Data List",
			type : "Navigation",
			press : 'noDataList'
		} ]
	};

	var dataNavigation = {
			navigation : [ {
				title : "Travel Expend",
				description : "Access the travel expend workflow",
				icon : "../images/travel_expend.png",
				activeIcon: "../images/travel_expend_grey.png",
				iconInset : false,
				type : "Navigation",
				unread: true,
				counter: 123,
				selected: false,
				info: "Error message",
				infoState: "Error",
				press : 'detailPage'
			}, {
				title : "Travel and expense report",
				description : "Access travel and expense reports",
				icon : "../images/travel_expense_report.png",
				activeIcon: "../images/travel_expense_report_grey.png",
				iconInset : false,
				type : "Navigation",
				unread: true,
				counter: 456,
				selected: false,
				info: "Warning message",
				infoState: "Warning",
				press : 'detailPage'
			}, {
				title : "Travel Request",
				description : "Access the travel request workflow",
				icon : "../images/travel_request.png",
				activeIcon: "../images/travel_request_grey.png",
				iconInset : false,
				type : "Navigation",
				unread: true,
				counter: 0,
				selected: false,
				info: "Success message",
				infoState: "Success",
				press : 'detailPage'
			}, {
				title : "Work Accidents",
				description : "Report your work accidents",
				icon : "../images/wounds_doc.png",
				activeIcon: "../images/wounds_doc_grey.png",
				iconInset : false,
				type : "Navigation",
				unread: true,
				counter: 999999999,
				selected: false,
				info: "Info message",
				press : 'detailPage'
			}, {
				title : "Travel Settings",
				description : "Change your travel worflow settings",
				icon : "../images/settings.png",
				activeIcon: "../images/settings_grey.png",
				iconInset : false,
				type : "Navigation",
				unread: true,
				counter: 4711,
				selected: false,
				press : 'detailPage'
			} ]
		};

	var dataDetail = {
		navigation : [ {
			title : "Travel Expend",
			description : "Access the travel expend workflow",
			icon : "../images/travel_expend.png",
			iconInset : false,
			type : "Detail",
			press : 'detailPage'
		}, {
			title : "Travel and expense report",
			description : "Access travel and expense reports",
			icon : "../images/travel_expense_report.png",
			iconInset : false,
			type : "Detail",
			press : 'detailPage'
		}, {
			title : "Travel Request",
			description : "Access the travel request workflow",
			icon : "../images/travel_request.png",
			iconInset : false,
			type : "Detail",
			press : 'detailPage'
		}, {
			title : "Work Accidents",
			description : "Report your work accidents",
			icon : "../images/wounds_doc.png",
			iconInset : false,
			type : "Detail",
			press : 'detailPage'
		}, {
			title : "Travel Settings",
			description : "Change your travel worflow settings",
			icon : "../images/settings.png",
			iconInset : false,
			type : "Detail",
			press : 'detailPage'
		} ]
	};


	/*
	// ================================================================================
	// create templates for the different lists (visible content of each list)
	// ================================================================================
	*/
	var oItemTemplateOverview = new sap.m.StandardListItem({
		title : "{title}",
		type : "{type}",
		press : handlePress
	});

	var oItemTemplateStandardThumb = new sap.m.StandardListItem({
		title : "{title}",
		description : "{description}",
		icon : "{icon}",
		activeIcon: "{activeIcon}",
		iconInset : "{iconInset}",
		type : "{type}",
		unread: "{unread}",
		counter: "{counter}",
		selected: "{selected}",
		info: "{info}",
		infoState: "{infoState}",
		press : handlePress
	});

	var oItemTemplateStandardIcon = new sap.m.StandardListItem({
		title : "{title}",
		description : "{description}",
		icon : "{icon}",
		type : "{type}",
		press : handlePress
	});

	var oItemTemplateStandardTitle = new sap.m.StandardListItem({
		title : "{title}",
		icon : "{icon}",
		type : "{type}",
		press : handlePress
	});

	var oItemTemplateStandardNoImage = new sap.m.StandardListItem({
		title : "{title}",
		description : "{description}",
		type : "{type}",
		press : handlePress
	});

	var oItemTemplateDisplay = new sap.m.DisplayListItem({
		label : "{title}",
		value : "{description}",
	});

	var oItemTemplateInput = new sap.m.InputListItem({
		label : "{title}",
		content : new sap.m.Input({
			type : "Number",
			placeholder : "Number"
		})
	});

	var oItemTemplateCustom = new sap.m.CustomListItem({
		content : new sap.m.Button({
			text : "{title}",
			width : "100%",
			icon : "./images/action.png",
			type : sap.m.ButtonType.Reject
		})
	});

	var oItemTemplateSelection = new sap.m.StandardListItem({
		title : "{title}",
		description : "{description}",
		icon : "{icon}",
		type : "{type}",
		press : handlePress
	})

	var oItemTemplateInvisible = new sap.m.StandardListItem({
		title : "{title}",
		description : "{description}",
		type : "{type}",
		press : handlePress
	});

	/*
	// ================================================================================
	// create the list objects for the different pages
	// ================================================================================
	*/
	var oListOverview = new sap.m.List({
		id : "sapMList001",
		inset : false,
		headerText : "List Overview",
		footerText : "These are just some list examples and this won't show all possible combinations."
	});

	var oListStandardThumb = new sap.m.List(
			{
				id : "sapMList002",
				inset : false,
				showUnread: true,
				'delete': deleteItem,
				headerText : "Travel",
				footerText : "We strongly advise you to keep your luggage with you at all times. Any unattended luggage in the terminal will be removed by the security services."
			});

	var oListStandardIcon = new sap.m.List(
			{
				id : "sapMList003",
				inset : false,
				headerText : "Travel",
				footerText : "We strongly advise you to keep your luggage with you at all times. Any unattended luggage in the terminal will be removed by the security services."
			});

	var oListStandardTitle = new sap.m.List(
			{
				id : "sapMList004",
				inset : false,
				headerText : "Travel",
				footerText : "We strongly advise you to keep your luggage with you at all times. Any unattended luggage in the terminal will be removed by the security services."
			});

	var oListStandardNoImage = new sap.m.List(
			{
				id : "sapMList005",
				inset : false,
				headerText : "Travel",
				footerText : "We strongly advise you to keep your luggage with you at all times. Any unattended luggage in the terminal will be removed by the security services."
			});

	var oListDisplay = new sap.m.List(
			{
				id : "sapMList006",
				inset : false,
				headerText : "Travel",
				footerText : "We strongly advise you to keep your luggage with you at all times. Any unattended luggage in the terminal will be removed by the security services."
			});

	var oListInput = new sap.m.List(
			{
				id : "sapMList007",
				inset : false,
				headerText : "Travel",
				footerText : "We strongly advise you to keep your luggage with you at all times. Any unattended luggage in the terminal will be removed by the security services."
			});

	var oListCustom = new sap.m.List(
			{
				id : "sapMList008",
				inset : false,
				headerText : "Travel",
				footerText : "We strongly advise you to keep your luggage with you at all times. Any unattended luggage in the terminal will be removed by the security services."
			});

	var oListStandardThumbNoHeader = new sap.m.List({
		id : "sapMList002a",
		inset : false,
	});

	var oListStandardIconNoHeader = new sap.m.List({
		id : "sapMList003a",
		inset : false,
	});

	var oListStandardTitleNoHeader = new sap.m.List({
		id : "sapMList004a",
		inset : false,
	});

	var oListStandardNoImageNoHeader = new sap.m.List({
		id : "sapMList005a",
		inset : false,
	});

	var oListDisplayNoHeader = new sap.m.List({
		id : "sapMList006a",
		inset : false,
	});

	var oListInputNoHeader = new sap.m.List({
		id : "sapMList007a",
		inset : false,
	});

	var oListCustomNoHeader = new sap.m.List({
		id : "sapMList008a",
		inset : false,
	});

	var oListSelection = new sap.m.List({
		id : "sapMList009",
		inset : false,
		headerText : "Travel",
		footerText : "We strongly advise you to keep your luggage with you at all times. Any unattended luggage in the terminal will be removed by the security services.",
		mode : sap.m.ListMode.SingleSelect
	});

	var oListInvisible = new sap.m.List({
		visible: false,
		id : "sapMList010",
		inset : false,
		headerText : "Travel",
		footerText : "We strongly advise you to keep your luggage with you at all times. Any unattended luggage in the terminal will be removed by the security services."
	});

	var oListNoData = new sap.m.List({
		id : "sapMList011",
		inset : false,
		showNoData: true,
		noDataText: "Forgot something???",
		'delete': deleteItem,
		headerText : "Travel [No Data List]",
		footerText : "We strongly advise you to keep your luggage with you at all times. Any unattended luggage in the terminal will be removed by the security services."
	});

	/*
	// ================================================================================
	// bind data to the different lists
	// ================================================================================
	*/
	bindListData(dataOverview, oItemTemplateOverview, oListOverview);

	bindListData(dataNavigation, oItemTemplateStandardThumb, oListStandardThumb);
	bindListData(dataDetail, oItemTemplateStandardIcon, oListStandardIcon);
	bindListData(dataNavigation, oItemTemplateStandardTitle, oListStandardTitle);
	bindListData(dataNavigation, oItemTemplateStandardNoImage, oListStandardNoImage);
	bindListData(dataNavigation, oItemTemplateDisplay, oListDisplay);
	bindListData(dataNavigation, oItemTemplateInput, oListInput);
	bindListData(dataNavigation, oItemTemplateCustom, oListCustom);
	bindListData(dataNavigation, oItemTemplateInvisible, oListInvisible);

	bindListData(dataNavigation, oItemTemplateStandardThumb, oListStandardThumbNoHeader);
	bindListData(dataDetail, oItemTemplateStandardIcon, oListStandardIconNoHeader);
	bindListData(dataNavigation, oItemTemplateStandardTitle, oListStandardTitleNoHeader);
	bindListData(dataNavigation, oItemTemplateStandardNoImage, oListStandardNoImageNoHeader);
	bindListData(dataNavigation, oItemTemplateDisplay, oListDisplayNoHeader);
	bindListData(dataNavigation, oItemTemplateInput, oListInputNoHeader);
	bindListData(dataNavigation, oItemTemplateCustom, oListCustomNoHeader);

	bindListData(dataNavigation, oItemTemplateSelection, oListSelection);


	/*
	// ================================================================================
	// add different lists to their content
	// ================================================================================
	*/
	listOverview.addContent(oListOverview);

	standardListThumb.addContent(oListStandardThumb);

	var actionList = new sap.m.List();
	var actionListItem = new sap.m.ActionListItem({id: "actionListItem", text: "Action List Item", press: handlePress});
	actionList.addItem(actionListItem);

	standardListThumb.addContent(actionList);

	standardListIcon.addContent(oListStandardIcon);
	standardListTitle.addContent(oListStandardTitle);
	standardListNoImage.addContent(oListStandardNoImage);
	displayList.addContent(oListDisplay);
	inputList.addContent(oListInput);
	customList.addContent(oListCustom);
	invisibleList.addContent(oListInvisible);
	noDataList.addContent(oListNoData);

	groupedList.addContent(oListStandardThumb.clone());
	groupedList.addContent(oListStandardIcon.clone());
	groupedList.addContent(oListStandardTitle.clone());
	groupedList.addContent(oListStandardNoImage.clone());
	groupedList.addContent(oListDisplay.clone());
	groupedList.addContent(oListInput.clone());

	groupedNoHeaderList.addContent(oListStandardThumbNoHeader);
	groupedNoHeaderList.addContent(oListStandardIconNoHeader);
	groupedNoHeaderList.addContent(oListStandardTitleNoHeader);
	groupedNoHeaderList.addContent(oListStandardNoImageNoHeader);
	groupedNoHeaderList.addContent(oListDisplayNoHeader);
	groupedNoHeaderList.addContent(oListInputNoHeader);

	selectionList.addContent(oListSelection);


	/*
	// ================================================================================
	// application helper functions
	// ================================================================================
	*/
	function bindListData(data, itemTemplate, list) {
		var oModel = new sap.ui.model.json.JSONModel();
		// set the data for the model
		oModel.setData(data);
		// set the model to the list
		list.setModel(oModel);

		// create a CustomData template, set its key to "answer" and bind its value to the answer data
		var oDataTemplate = new sap.ui.core.CustomData({
			key : "xyz"
		});
		oDataTemplate.bindProperty("value", "press");

		// add the CustomData template to the item template
		itemTemplate.addCustomData(oDataTemplate);

		// bind Aggregation
		list.bindAggregation("items", "/navigation", itemTemplate);
	}

	function handlePress(e) {
		app.to(this.data("xyz"), "show");
	}

	function deleteItem(oEvent)
	{
		var model = oEvent.mParameters.listItem.getModel();

		var deleteId = model.getProperty("", oEvent.mParameters.listItem.getBindingContext());
		var data = model.getData().navigation;
		jQuery.each(data,function(iIndex, oEntry){

			if (oEntry == deleteId) {
			data.splice(iIndex, 1);
			return false;
			}
	});
	model.updateBindings();
	}

	function switchStyle() {
		var listArray = jQuery(".sapMList").control();
		var inset = !listArray[listArray.length - 1].getInset();
		for ( var i = 0; i < listArray.length; i++) {
			listArray[i].setInset(inset);
		}
		app.getCurrentPage()._refreshIScroll();
	}


	/*
	// ================================================================================
	// selection list: setter/getter functions - toggle between true and false
	// ================================================================================
	*/
	function setSelectionItem1() {
		var aItems = oListSelection.getItems();
		if (oListSelection.getMode() == sap.m.ListMode.SingleSelect || oListSelection.getMode() == sap.m.ListMode.SingleSelectLeft) {
			aItems[0].setSelected(true);
		}
		if (oListSelection.getMode() == sap.m.ListMode.MultiSelect){
			aItems[0].setSelected( (!aItems[0].getModeControl().getSelected()) );
		}
	}

	function setSelectionItem2() {
		var aItems = oListSelection.getItems();
		if (oListSelection.getMode() == sap.m.ListMode.SingleSelect || oListSelection.getMode() == sap.m.ListMode.SingleSelectLeft) {
			aItems[1].setSelected(true);
		}
		if (oListSelection.getMode() == sap.m.ListMode.MultiSelect){
			aItems[1].setSelected( (!aItems[1].getModeControl().getSelected()) );
		}
	}

	function setSelectionItem3() {
		var aItems = oListSelection.getItems();
		if (oListSelection.getMode() == sap.m.ListMode.SingleSelect || oListSelection.getMode() == sap.m.ListMode.SingleSelectLeft) {
			aItems[2].setSelected(true);
		}
		if (oListSelection.getMode() == sap.m.ListMode.MultiSelect){
			aItems[2].setSelected( (!aItems[2].getModeControl().getSelected()) );
		}
	}

	function setSelectionItem4() {
		var aItems = oListSelection.getItems();
		if (oListSelection.getMode() == sap.m.ListMode.SingleSelect || oListSelection.getMode() == sap.m.ListMode.SingleSelectLeft) {
			aItems[3].setSelected(true);
		}
		if (oListSelection.getMode() == sap.m.ListMode.MultiSelect){
			aItems[3].setSelected( (!aItems[3].getModeControl().getSelected()) );
		}
	}

	function setSelectionItem5() {
		var aItems = oListSelection.getItems();
		if (oListSelection.getMode() == sap.m.ListMode.SingleSelect || oListSelection.getMode() == sap.m.ListMode.SingleSelectLeft) {
			aItems[4].setSelected( (!aItems[4].getModeControl().getSelected()) );
		}
		if (oListSelection.getMode() == sap.m.ListMode.MultiSelect){
			aItems[4].setSelected( (!aItems[4].getModeControl().getSelected()) );
		}
	}

	function checkSingleSelectionItem1() {
		var aItems = oListSelection.getItems();
		return aItems[0].getModeControl().getSelected();
	}

	function checkSingleSelectionItem2() {
		var aItems = oListSelection.getItems();
		return aItems[1].getModeControl().getSelected();
	}

	function checkSingleSelectionItem3() {
		var aItems = oListSelection.getItems();
		return aItems[2].getModeControl().getSelected();
	}

	function checkSingleSelectionItem4() {
		var aItems = oListSelection.getItems();
		return aItems[3].getModeControl().getSelected();
	}

	function checkSingleSelectionItem5() {
		var aItems = oListSelection.getItems();
		return aItems[4].getModeControl().getSelected();
	}

	function checkMultiSelectionItem1() {
		var aItems = oListSelection.getItems();
		return aItems[0].getModeControl().getSelected();
	}

	function checkMultiSelectionItem2() {
		var aItems = oListSelection.getItems();
		return aItems[1].getModeControl().getSelected();
	}

	function checkMultiSelectionItem3() {
		var aItems = oListSelection.getItems();
		return aItems[2].getModeControl().getSelected();
	}

	function checkMultiSelectionItem4() {
		var aItems = oListSelection.getItems();
		return aItems[3].getModeControl().getSelected();
	}

	function checkMultiSelectionItem5() {
		var aItems = oListSelection.getItems();
		return aItems[4].getModeControl().getSelected();
	}

	function removeSelection() {
		oListSelection.removeSelections();
	}


	/*
	// ================================================================================
	// selection list: functions to switch list selection mode
	// ================================================================================
	*/
	function switchModeNone() {
		oListSelection.setHeaderText("Travel [List-Mode: None]");
		oListSelection.setMode(sap.m.ListMode.None)
		}

	function switchModeSingle() {
		oListSelection.setHeaderText("Travel [List-Mode: Single]");
		oListSelection.setMode(sap.m.ListMode.SingleSelect)
	}

	function switchModeSingleLeft() {
		oListSelection.setHeaderText("Travel [List-Mode: SingleLeft]");
		oListSelection.setMode(sap.m.ListMode.SingleSelectLeft)
	}

	function switchModeMulti() {
		oListSelection.setHeaderText("Travel [List-Mode: Multi]");
		oListSelection.setMode(sap.m.ListMode.MultiSelect)
	}

	function switchModeDelete() {
		oListSelection.setHeaderText("Travel [List-Mode: Delete]");
		oListSelection.setMode(sap.m.ListMode.Delete)
	}


	// ================================================================================

	app.addPage(listOverview).addPage(detailPage).addPage(standardListThumb).addPage(standardListIcon).addPage(standardListTitle).addPage(standardListNoImage)
			.addPage(displayList).addPage(inputList).addPage(customList).addPage(groupedList).addPage(groupedNoHeaderList)
			.addPage(selectionList).addPage(invisibleList).addPage(noDataList).addPage(swipeContentPage);
	app.setInitialPage("listOverview");
	app.placeAt("content");

	QUnit.config.autostart = false;
	jQuery(document).ready(function() {
		QUnit.start();
	});


	/*
	// ================================================================================
	// qunit checks
	// ================================================================================
	*/
	module("Initial Check");

	test("Overview rendered", function() {
		ok(jQuery.sap.domById("sapMList001-listUl"), "Overview should be rendered");
		ok(jQuery.sap.domById("sapMList001-listUl").childNodes[0], "Overview ListItem should be rendered");
	});

	asyncTest("standardListThumb rendered - navigate from listitem no 1 to detail page", function() {
		app.to("standardListThumb", "show");
		sap.ui.getCore().applyChanges();
		ok(jQuery.sap.domById("sapMList002-listUl"), "standardListThumb should be rendered");
		ok(jQuery.sap.domById("sapMList002-listUl").childNodes[0], "standardListThumb ListItem should be rendered");
		var aItems = oListStandardThumb.getItems();
		var listItemId = aItems[0].getId();
		var oListItem = sap.ui.getCore().byId(listItemId);
		var oEvent = new jQuery.Event();
		oEvent.srcControl = aItems[0];
		oListItem.ontap(oEvent);
		setTimeout(function(){
			sap.ui.getCore().applyChanges();
			ok(jQuery.sap.domById("detailPage"), "detailPage should be rendered)");
			start();
		},50);
	});

	asyncTest("standardListThumb rendered - navigate from listitem no 2 to detail page", function() {
		app.back();
		sap.ui.getCore().applyChanges();
		ok(jQuery.sap.domById("sapMList002-listUl"), "standardListThumb should be rendered");
		ok(jQuery.sap.domById("sapMList002-listUl").childNodes[0], "standardListThumb ListItem should be rendered");
		var aItems = oListStandardThumb.getItems();
		var listItemId = aItems[1].getId();
		var oListItem = sap.ui.getCore().byId(listItemId);
		var oEvent = new jQuery.Event();
		oEvent.srcControl = aItems[1];
		oListItem.ontap(oEvent);
		setTimeout(function(){
			sap.ui.getCore().applyChanges();
			ok(jQuery.sap.domById("detailPage"), "detailPage should be rendered)");
			start();
		},50);
	});

	asyncTest("standardListThumb rendered - navigate from listitem no 3 to detail page", function() {
		app.back();
		sap.ui.getCore().applyChanges();
		ok(jQuery.sap.domById("sapMList002-listUl"), "standardListThumb should be rendered");
		ok(jQuery.sap.domById("sapMList002-listUl").childNodes[0], "standardListThumb ListItem should be rendered");
		var aItems = oListStandardThumb.getItems();
		var listItemId = aItems[2].getId();
		var oListItem = sap.ui.getCore().byId(listItemId);
		var oEvent = new jQuery.Event();
		oEvent.srcControl = aItems[2];
		oListItem.ontap(oEvent);
		setTimeout(function(){
			sap.ui.getCore().applyChanges();
			ok(jQuery.sap.domById("detailPage"), "detailPage should be rendered)");
			start();
		},50);
	});

	asyncTest("standardListThumb rendered - navigate from listitem no 4 to detail page", function() {
		app.back();
		sap.ui.getCore().applyChanges();
		ok(jQuery.sap.domById("sapMList002-listUl"), "standardListThumb should be rendered");
		ok(jQuery.sap.domById("sapMList002-listUl").childNodes[0], "standardListThumb ListItem should be rendered");
		var aItems = oListStandardThumb.getItems();
		var listItemId = aItems[3].getId();
		var oListItem = sap.ui.getCore().byId(listItemId);
		var oEvent = new jQuery.Event();
		oEvent.srcControl = aItems[3];
		oListItem.ontap(oEvent);
		setTimeout(function(){
			sap.ui.getCore().applyChanges();
			ok(jQuery.sap.domById("detailPage"), "detailPage should be rendered)");
			start();
		},50);
	});

	asyncTest("standardListThumb rendered - navigate from listitem no 5 to detail page", function() {
		app.back();
		sap.ui.getCore().applyChanges();
		ok(jQuery.sap.domById("sapMList002-listUl"), "standardListThumb should be rendered");
		ok(jQuery.sap.domById("sapMList002-listUl").childNodes[0], "standardListThumb ListItem should be rendered");
		var aItems = oListStandardThumb.getItems();
		var listItemId = aItems[4].getId();
		var oListItem = sap.ui.getCore().byId(listItemId);
		var oEvent = new jQuery.Event();
		oEvent.srcControl = aItems[4];
		oListItem.ontap(oEvent);
		setTimeout(function(){
			sap.ui.getCore().applyChanges();
			ok(jQuery.sap.domById("detailPage"), "detailPage should be rendered)");
			start();
		},50);
	});

	test("standardListThumb rendered - unread indicatior, counter, info should be rendered", function() {
		app.back();
		sap.ui.getCore().applyChanges();
		var aItems = oListStandardThumb.getItems();
		var listItemId = aItems[0].getId();
		
		jQuery.sap.require("sap.ui.core.theming.Parameters");
		var _bShowUnreadBubble = (sap.ui.core.theming.Parameters.get("sapUiLIUnreadAsBubble") == "true");
		if (_bShowUnreadBubble) {
			ok(jQuery.sap.domById(listItemId + "-unread"), "standardListThumb unread indicator should be rendered");
		}
		ok(jQuery.sap.domById(listItemId + "-counter"), "standardListThumb counter should be rendered");
		ok(jQuery.sap.domById(listItemId + "-info"), "standardListThumb info should be rendered");
		ok(jQuery.sap.domById("actionListItem"), "actionListItem should be rendered");
	});

	test("standardListIcon rendered", function() {
		app.to("standardListIcon", "show");
		sap.ui.getCore().applyChanges();
		ok(jQuery.sap.domById("sapMList003-listUl"), "standardListIcon should be rendered");
		ok(jQuery.sap.domById("sapMList003-listUl").childNodes[0], "standardListIcon ListItem should be rendered");
		app.to("standardListTitle", "show");
		sap.ui.getCore().applyChanges();
	});

	test("standardListTitle rendered", function() {
		app.back();
		ok(jQuery.sap.domById("sapMList004-listUl"), "standardListTitle should be rendered");
		ok(jQuery.sap.domById("sapMList004-listUl").childNodes[0], "standardListTitle ListItem should be rendered");
		app.to("standardListNoImage", "show");
		sap.ui.getCore().applyChanges();
	});

	test("standardListNoImage rendered", function() {
		app.back();
		ok(jQuery.sap.domById("sapMList005-listUl"), "standardListNoImage should be rendered");
		ok(jQuery.sap.domById("sapMList005-listUl").childNodes[0], "standardListNoImage ListItem should be rendered");
		app.to("displayList", "show");
		sap.ui.getCore().applyChanges();
	});

	test("displayList rendered", function() {
		app.back();
		ok(jQuery.sap.domById("sapMList006-listUl"), "displayList should be rendered");
		ok(jQuery.sap.domById("sapMList006-listUl").childNodes[0], "displayList ListItem should be rendered");
		app.to("inputList", "show");
		sap.ui.getCore().applyChanges();
	});

	test("inputList rendered", function() {
		app.back();
		ok(jQuery.sap.domById("sapMList007-listUl"), "inputList should be rendered");
		ok(jQuery.sap.domById("sapMList007-listUl").childNodes[0], "inputList ListItem should be rendered");
		app.to("customList", "show");
		sap.ui.getCore().applyChanges();
	});

	test("customList rendered", function() {
		app.back();
		ok(jQuery.sap.domById("sapMList008-listUl"), "customList should be rendered");
		ok(jQuery.sap.domById("sapMList008-listUl").childNodes[0], "customList ListItem should be rendered");
		app.to("invisibleList", "show");
		sap.ui.getCore().applyChanges();
	});

	test("invisibleList rendered", function() {
		app.back();
		ok(!jQuery.sap.domById("sapMList010-listUl"), "invisibleList should not be rendered");
		app.to("noDataList", "show");
		sap.ui.getCore().applyChanges();
	});

	test("noDataList rendered", function() {
		app.back();
		ok(jQuery.sap.domById("sapMList011-listUl"), "noDataList should be rendered");
		ok(jQuery.sap.domById("sapMList011-nodata-text").textContent == "Forgot something???", "noDataList custom text should be rendered");
		app.to("selectionList", "show");
		sap.ui.getCore().applyChanges();
	});

	if (jQuery.support.touch) {
		asyncTest("swipe action", function() {
			app.back();
			app.to("swipeContentPage", "show");
			sap.ui.getCore().applyChanges();

			var li = swipeContentList.getItems()[0],
			event = jQuery.Event("swipeleft", {
				srcControl : li
			});

			swipeContentList.onswipeleft(event);
			sap.ui.getCore().applyChanges();

			setTimeout(function() {
				var oContainer = jQuery.sap.domById(swipeContentList.getId() + "-swp");
				ok(oContainer instanceof HTMLElement, "Swipe Content is rendered");
				swipeContentList.swipeOut(function(li, swpcnt){
					var oContainer = jQuery.sap.domById(swipeContentList.getId() + "-swp");
					equals(oContainer, null, "Swipe Content is removed");
					swipeContentList.setSwipeContent(swpcnt.setText("Disapprove").setType("Reject"));
					start();
				});
			}, 1000);
		});
	}

	test("selectionList rendered", function() {
		ok(jQuery.sap.domById("sapMList009"), "selectionList should be rendered");
		ok(jQuery.sap.domById("sapMList009").childNodes[0], "selectionList ListItem should be rendered");
	});

	test("selectionList singleSelection Item 1", function() {
		setSelectionItem1();
		equals(checkSingleSelectionItem1(), true, "SingleSelection: Item 1 should be selected");
		equals(checkSingleSelectionItem2(), false, "SingleSelection: Item 2 should not be selected");
		equals(checkSingleSelectionItem3(), false, "SingleSelection: Item 3 should not be selected");
		equals(checkSingleSelectionItem4(), false, "SingleSelection: Item 4 should not be selected");
		equals(checkSingleSelectionItem5(), false, "SingleSelection: Item 5 should not be selected");
	});

	test("selectionList singleSelection Item 2", function() {
		setSelectionItem2();
		equals(checkSingleSelectionItem1(), false, "SingleSelection: Item 1 should not be selected");
		equals(checkSingleSelectionItem2(), true, "SingleSelection: Item 2 should be selected");
		equals(checkSingleSelectionItem3(), false, "SingleSelection: Item 3 should not be selected");
		equals(checkSingleSelectionItem4(), false, "SingleSelection: Item 4 should not be selected");
		equals(checkSingleSelectionItem5(), false, "SingleSelection: Item 5 should not be selected");
	});

	test("selectionList singleSelection Item 3", function() {
		setSelectionItem3();
		equals(checkSingleSelectionItem1(), false, "SingleSelection: Item 1 should not be selected");
		equals(checkSingleSelectionItem2(), false, "SingleSelection: Item 2 should not be selected");
		equals(checkSingleSelectionItem3(), true, "SingleSelection: Item 3 should be selected");
		equals(checkSingleSelectionItem4(), false, "SingleSelection: Item 4 should not be selected");
		equals(checkSingleSelectionItem5(), false, "SingleSelection: Item 5 should not be selected");
	});

	test("selectionList singleSelection Item 4", function() {
		setSelectionItem4();
		equals(checkSingleSelectionItem1(), false, "SingleSelection: Item 1 should not be selected");
		equals(checkSingleSelectionItem2(), false, "SingleSelection: Item 2 should not be selected");
		equals(checkSingleSelectionItem3(), false, "SingleSelection: Item 3 should not be selected");
		equals(checkSingleSelectionItem4(), true, "SingleSelection: Item 4 should be selected");
		equals(checkSingleSelectionItem5(), false, "SingleSelection: Item 5 should not be selected");
	});

	test("selectionList singleSelection Item 5", function() {
		setSelectionItem5();
		equals(checkSingleSelectionItem1(), false, "SingleSelection: Item 1 should not be selected");
		equals(checkSingleSelectionItem2(), false, "SingleSelection: Item 2 should not be selected");
		equals(checkSingleSelectionItem3(), false, "SingleSelection: Item 3 should not be selected");
		equals(checkSingleSelectionItem4(), false, "SingleSelection: Item 4 should not be selected");
		equals(checkSingleSelectionItem5(), true, "SingleSelection: Item 5 should be selected");
	});

	asyncTest("selectionList singleSelection item check by tap event on Item 1", function() {
		var aItems = oListSelection.getItems();
		var radioButtonId1 = aItems[0].getModeControl().getId();
		var radioButtonId2 = aItems[1].getModeControl().getId();
		var radioButtonId3 = aItems[2].getModeControl().getId();
		var radioButtonId4 = aItems[3].getModeControl().getId();
		var radioButtonId5 = aItems[4].getModeControl().getId();
		qutils.triggerEvent("tap", radioButtonId1);
		
		setTimeout(function() {
			equal(sap.ui.getCore().byId(radioButtonId1).getSelected(), true, "SingleSelection: Item 1 should be checked");
			equal(sap.ui.getCore().byId(radioButtonId2).getSelected(), false, "SingleSelection: Item 2 should not be checked");
			equal(sap.ui.getCore().byId(radioButtonId3).getSelected(), false, "SingleSelection: Item 3 should not be checked");
			equal(sap.ui.getCore().byId(radioButtonId4).getSelected(), false, "SingleSelection: Item 4 should not be checked");
			equal(sap.ui.getCore().byId(radioButtonId5).getSelected(), false, "SingleSelection: Item 5 should not be checked");
			
			start();
		}, 0);
	});

	asyncTest("selectionList singleSelection item check by tap event on Item 2", function() {
		var aItems = oListSelection.getItems();
		var radioButtonId1 = aItems[0].getModeControl().getId();
		var radioButtonId2 = aItems[1].getModeControl().getId();
		var radioButtonId3 = aItems[2].getModeControl().getId();
		var radioButtonId4 = aItems[3].getModeControl().getId();
		var radioButtonId5 = aItems[4].getModeControl().getId();
		qutils.triggerEvent("tap", radioButtonId2);

		setTimeout(function() {
			equal(sap.ui.getCore().byId(radioButtonId1).getSelected(), false, "SingleSelection: Item 1 should not be checked");
			equal(sap.ui.getCore().byId(radioButtonId2).getSelected(), true, "SingleSelection: Item 2 should be checked");
			equal(sap.ui.getCore().byId(radioButtonId3).getSelected(), false, "SingleSelection: Item 3 should not be checked");
			equal(sap.ui.getCore().byId(radioButtonId4).getSelected(), false, "SingleSelection: Item 4 should not be checked");
			equal(sap.ui.getCore().byId(radioButtonId5).getSelected(), false, "SingleSelection: Item 5 should not be checked");
			start();
		}, 0);
	});

	asyncTest("selectionList singleSelection item check by tap event on Item 3", function() {
		var aItems = oListSelection.getItems();
		var radioButtonId1 = aItems[0].getModeControl().getId();
		var radioButtonId2 = aItems[1].getModeControl().getId();
		var radioButtonId3 = aItems[2].getModeControl().getId();
		var radioButtonId4 = aItems[3].getModeControl().getId();
		var radioButtonId5 = aItems[4].getModeControl().getId();
		qutils.triggerEvent("tap", radioButtonId3);

		setTimeout(function() {
			equal(sap.ui.getCore().byId(radioButtonId1).getSelected(), false, "SingleSelection: Item 1 should not be checked");
			equal(sap.ui.getCore().byId(radioButtonId2).getSelected(), false, "SingleSelection: Item 2 should not be checked");
			equal(sap.ui.getCore().byId(radioButtonId3).getSelected(), true, "SingleSelection: Item 3 should be checked");
			equal(sap.ui.getCore().byId(radioButtonId4).getSelected(), false, "SingleSelection: Item 4 should not be checked");
			equal(sap.ui.getCore().byId(radioButtonId5).getSelected(), false, "SingleSelection: Item 5 should not be checked");
			start();
		}, 0);
	});

	asyncTest("selectionList singleSelection item check by tap event on Item 4", function() {
		var aItems = oListSelection.getItems();
		var radioButtonId1 = aItems[0].getModeControl().getId();
		var radioButtonId2 = aItems[1].getModeControl().getId();
		var radioButtonId3 = aItems[2].getModeControl().getId();
		var radioButtonId4 = aItems[3].getModeControl().getId();
		var radioButtonId5 = aItems[4].getModeControl().getId();
		qutils.triggerEvent("tap", radioButtonId4);

		setTimeout(function() {
			equal(sap.ui.getCore().byId(radioButtonId1).getSelected(), false, "SingleSelection: Item 1 should not be checked");
			equal(sap.ui.getCore().byId(radioButtonId2).getSelected(), false, "SingleSelection: Item 2 should not be checked");
			equal(sap.ui.getCore().byId(radioButtonId3).getSelected(), false, "SingleSelection: Item 3 should not be checked");
			equal(sap.ui.getCore().byId(radioButtonId4).getSelected(), true, "SingleSelection: Item 4 should be checked");
			equal(sap.ui.getCore().byId(radioButtonId5).getSelected(), false, "SingleSelection: Item 5 should not be checked");
			start();
		}, 0);
	});

	asyncTest("selectionList singleSelection item check by tap event on Item 5", function() {
		var aItems = oListSelection.getItems();
		var radioButtonId1 = aItems[0].getModeControl().getId();
		var radioButtonId2 = aItems[1].getModeControl().getId();
		var radioButtonId3 = aItems[2].getModeControl().getId();
		var radioButtonId4 = aItems[3].getModeControl().getId();
		var radioButtonId5 = aItems[4].getModeControl().getId();
		qutils.triggerEvent("tap", radioButtonId5);

		setTimeout(function() {
			equal(sap.ui.getCore().byId(radioButtonId1).getSelected(), false, "SingleSelection: Item 1 should not be checked");
			equal(sap.ui.getCore().byId(radioButtonId2).getSelected(), false, "SingleSelection: Item 2 should not be checked");
			equal(sap.ui.getCore().byId(radioButtonId3).getSelected(), false, "SingleSelection: Item 3 should not be checked");
			equal(sap.ui.getCore().byId(radioButtonId4).getSelected(), false, "SingleSelection: Item 4 should not be checked");
			equal(sap.ui.getCore().byId(radioButtonId5).getSelected(), true, "SingleSelection: Item 5 should be checked");
			start();
		}, 0);
	});

	test("selectionList switch to SingleSelectionLeft", function() {
		switchModeSingleLeft();
		equals(oListSelection.getMode(), sap.m.ListMode.SingleSelectLeft, "Switch to SingleSelectionLeft: Ok");
		sap.ui.getCore().applyChanges();

	});

	test("selectionList SingleSelectionLeft Item 1", function() {
		setSelectionItem1();
		equals(checkSingleSelectionItem1(), true, "SingleSelectionLeft: Item 1 should be selected");
		equals(checkSingleSelectionItem2(), false, "SingleSelectionLeft: Item 2 should not be selected");
		equals(checkSingleSelectionItem3(), false, "SingleSelectionLeft: Item 3 should not be selected");
		equals(checkSingleSelectionItem4(), false, "SingleSelectionLeft: Item 4 should not be selected");
		equals(checkSingleSelectionItem5(), false, "SingleSelectionLeft: Item 5 should not be selected");
	});

	test("selectionList SingleSelectionLeft Item 2", function() {
		setSelectionItem2();
		equals(checkSingleSelectionItem1(), false, "SingleSelectionLeft: Item 1 should not be selected");
		equals(checkSingleSelectionItem2(), true, "SingleSelectionLeft: Item 2 should be selected");
		equals(checkSingleSelectionItem3(), false, "SingleSelectionLeft: Item 3 should not be selected");
		equals(checkSingleSelectionItem4(), false, "SingleSelectionLeft: Item 4 should not be selected");
		equals(checkSingleSelectionItem5(), false, "SingleSelectionLeft: Item 5 should not be selected");
	});

	test("selectionList SingleSelectionLeft Item 3", function() {
		setSelectionItem3();
		equals(checkSingleSelectionItem1(), false, "SingleSelectionLeft: Item 1 should not be selected");
		equals(checkSingleSelectionItem2(), false, "SingleSelectionLeft: Item 2 should not be selected");
		equals(checkSingleSelectionItem3(), true, "SingleSelectionLeft: Item 3 should be selected");
		equals(checkSingleSelectionItem4(), false, "SingleSelectionLeft: Item 4 should not be selected");
		equals(checkSingleSelectionItem5(), false, "SingleSelectionLeft: Item 5 should not be selected");
	});

	test("selectionList SingleSelectionLeft Item 4", function() {
		setSelectionItem4();
		equals(checkSingleSelectionItem1(), false, "SingleSelectionLeft: Item 1 should not be selected");
		equals(checkSingleSelectionItem2(), false, "SingleSelectionLeft: Item 2 should not be selected");
		equals(checkSingleSelectionItem3(), false, "SingleSelectionLeft: Item 3 should not be selected");
		equals(checkSingleSelectionItem4(), true, "SingleSelectionLeft: Item 4 should be selected");
		equals(checkSingleSelectionItem5(), false, "SingleSelectionLeft: Item 5 should not be selected");
	});

	test("selectionList SingleSelectionLeft Item 5", function() {
		setSelectionItem5();
		equals(checkSingleSelectionItem1(), false, "SingleSelectionLeft: Item 1 should not be selected");
		equals(checkSingleSelectionItem2(), false, "SingleSelectionLeft: Item 2 should not be selected");
		equals(checkSingleSelectionItem3(), false, "SingleSelectionLeft: Item 3 should not be selected");
		equals(checkSingleSelectionItem4(), false, "SingleSelectionLeft: Item 4 should not be selected");
		equals(checkSingleSelectionItem5(), true, "SingleSelectionLeft: Item 5 should be selected");
	});

	asyncTest("selectionList SingleSelectionLeft item check by tap event on Item 1", function() {
		var aItems = oListSelection.getItems();
		var radioButtonId1 = aItems[0].getModeControl().getId();
		var radioButtonId2 = aItems[1].getModeControl().getId();
		var radioButtonId3 = aItems[2].getModeControl().getId();
		var radioButtonId4 = aItems[3].getModeControl().getId();
		var radioButtonId5 = aItems[4].getModeControl().getId();
		qutils.triggerEvent("tap", radioButtonId1);

		setTimeout(function() {
			equal(sap.ui.getCore().byId(radioButtonId1).getSelected(), true, "SingleSelectionLeft: Item 1 should be checked");
			equal(sap.ui.getCore().byId(radioButtonId2).getSelected(), false, "SingleSelectionLeft: Item 2 should not be checked");
			equal(sap.ui.getCore().byId(radioButtonId3).getSelected(), false, "SingleSelectionLeft: Item 3 should not be checked");
			equal(sap.ui.getCore().byId(radioButtonId4).getSelected(), false, "SingleSelectionLeft: Item 4 should not be checked");
			equal(sap.ui.getCore().byId(radioButtonId5).getSelected(), false, "SingleSelectionLeft: Item 5 should not be checked");

			start();
		}, 0)
	});

	asyncTest("selectionList SingleSelectionLeft item check by tap event on Item 2", function() {
		var aItems = oListSelection.getItems();
		var radioButtonId1 = aItems[0].getModeControl().getId();
		var radioButtonId2 = aItems[1].getModeControl().getId();
		var radioButtonId3 = aItems[2].getModeControl().getId();
		var radioButtonId4 = aItems[3].getModeControl().getId();
		var radioButtonId5 = aItems[4].getModeControl().getId();
		qutils.triggerEvent("tap", radioButtonId2);
		setTimeout(function() {

			equal(sap.ui.getCore().byId(radioButtonId1).getSelected(), false, "SingleSelectionLeft: Item 1 should not be checked");
			equal(sap.ui.getCore().byId(radioButtonId2).getSelected(), true, "SingleSelectionLeft: Item 2 should be checked");
			equal(sap.ui.getCore().byId(radioButtonId3).getSelected(), false, "SingleSelectionLeft: Item 3 should not be checked");
			equal(sap.ui.getCore().byId(radioButtonId4).getSelected(), false, "SingleSelectionLeft: Item 4 should not be checked");
			equal(sap.ui.getCore().byId(radioButtonId5).getSelected(), false, "SingleSelectionLeft: Item 5 should not be checked");
			start();
		}, 0)
	});

	asyncTest("selectionList SingleSelectionLeft item check by tap event on Item 3", function() {
		var aItems = oListSelection.getItems();
		var radioButtonId1 = aItems[0].getModeControl().getId();
		var radioButtonId2 = aItems[1].getModeControl().getId();
		var radioButtonId3 = aItems[2].getModeControl().getId();
		var radioButtonId4 = aItems[3].getModeControl().getId();
		var radioButtonId5 = aItems[4].getModeControl().getId();
		qutils.triggerEvent("tap", radioButtonId3);
		setTimeout(function() {

			equal(sap.ui.getCore().byId(radioButtonId1).getSelected(), false, "SingleSelectionLeft: Item 1 should not be checked");
			equal(sap.ui.getCore().byId(radioButtonId2).getSelected(), false, "SingleSelectionLeft: Item 2 should not be checked");
			equal(sap.ui.getCore().byId(radioButtonId3).getSelected(), true, "SingleSelectionLeft: Item 3 should be checked");
			equal(sap.ui.getCore().byId(radioButtonId4).getSelected(), false, "SingleSelectionLeft: Item 4 should not be checked");
			equal(sap.ui.getCore().byId(radioButtonId5).getSelected(), false, "SingleSelectionLeft: Item 5 should not be checked");
			start();
		}, 0)
	});

	asyncTest("selectionList SingleSelectionLeft item check by tap event on Item 4", function() {
		var aItems = oListSelection.getItems();
		var radioButtonId1 = aItems[0].getModeControl().getId();
		var radioButtonId2 = aItems[1].getModeControl().getId();
		var radioButtonId3 = aItems[2].getModeControl().getId();
		var radioButtonId4 = aItems[3].getModeControl().getId();
		var radioButtonId5 = aItems[4].getModeControl().getId();
		qutils.triggerEvent("tap", radioButtonId4);
		setTimeout(function() {

			equal(sap.ui.getCore().byId(radioButtonId1).getSelected(), false, "SingleSelectionLeft: Item 1 should not be checked");
			equal(sap.ui.getCore().byId(radioButtonId2).getSelected(), false, "SingleSelectionLeft: Item 2 should not be checked");
			equal(sap.ui.getCore().byId(radioButtonId3).getSelected(), false, "SingleSelectionLeft: Item 3 should not be checked");
			equal(sap.ui.getCore().byId(radioButtonId4).getSelected(), true, "SingleSelectionLeft: Item 4 should be checked");
			equal(sap.ui.getCore().byId(radioButtonId5).getSelected(), false, "SingleSelectionLeft: Item 5 should not be checked");
			start();
		}, 0)
	});

	asyncTest("selectionList SingleSelectionLeft item check by tap event on Item 5", function() {
		var aItems = oListSelection.getItems();
		var radioButtonId1 = aItems[0].getModeControl().getId();
		var radioButtonId2 = aItems[1].getModeControl().getId();
		var radioButtonId3 = aItems[2].getModeControl().getId();
		var radioButtonId4 = aItems[3].getModeControl().getId();
		var radioButtonId5 = aItems[4].getModeControl().getId();
		qutils.triggerEvent("tap", radioButtonId5);
		setTimeout(function() {
	
			equal(sap.ui.getCore().byId(radioButtonId1).getSelected(), false, "SingleSelectionLeft: Item 1 should not be checked");
			equal(sap.ui.getCore().byId(radioButtonId2).getSelected(), false, "SingleSelectionLeft: Item 2 should not be checked");
			equal(sap.ui.getCore().byId(radioButtonId3).getSelected(), false, "SingleSelectionLeft: Item 3 should not be checked");
			equal(sap.ui.getCore().byId(radioButtonId4).getSelected(), false, "SingleSelectionLeft: Item 4 should not be checked");
			equal(sap.ui.getCore().byId(radioButtonId5).getSelected(), true, "SingleSelectionLeft: Item 5 should be checked");
		start();
		}, 0)
	});

	test("selectionList switch to multiSelection", function() {
		switchModeMulti();
		equals(oListSelection.getMode(), sap.m.ListMode.MultiSelect, "Switch to MultiSelection: Ok");
		sap.ui.getCore().applyChanges();

	});

	test("selectionList multiSelection item check (1,3,5)", function() {
		removeSelection();
		setSelectionItem1();
		setSelectionItem3();
		setSelectionItem5();
		equals(checkMultiSelectionItem1(), true, "MultiSelection: Item 1 should be selected");
		equals(checkMultiSelectionItem2(), false, "MultiSelection: Item 2 should not be selected");
		equals(checkMultiSelectionItem3(), true, "MultiSelection: Item 3 should be selected");
		equals(checkMultiSelectionItem4(), false, "MultiSelection: Item 4 should not be selected");
		equals(checkMultiSelectionItem5(), true, "MultiSelection: Item 5 should be selected");
	});

	test("selectionList multiSelection: remove all selections", function() {
		removeSelection();
		equals(checkMultiSelectionItem1(), false, "MultiSelection: Item 1 should not be selected");
		equals(checkMultiSelectionItem2(), false, "MultiSelection: Item 2 should not be selected");
		equals(checkMultiSelectionItem3(), false, "MultiSelection: Item 3 should not be selected");
		equals(checkMultiSelectionItem4(), false, "MultiSelection: Item 4 should not be selected");
		equals(checkMultiSelectionItem5(), false, "MultiSelection: Item 5 should not be selected");
	});

	test("selectionList multiSelection item check (2,4)", function() {
		setSelectionItem2();
		setSelectionItem4();
		equals(checkMultiSelectionItem1(), false, "MultiSelection: Item 1 should not be selected");
		equals(checkMultiSelectionItem2(), true, "MultiSelection: Item 2 should be selected");
		equals(checkMultiSelectionItem3(), false, "MultiSelection: Item 3 should not be selected");
		equals(checkMultiSelectionItem4(), true, "MultiSelection: Item 4 should be selected");
		equals(checkMultiSelectionItem5(), false, "MultiSelection: Item 5 should be selected");
	});

	test("selectionList multiSelection item check by tap event (1,3,5)", function() {
		var aItems = oListSelection.getItems();
		var checkBoxId1 = aItems[0].getModeControl().getId();
		var checkBoxId2 = aItems[1].getModeControl().getId();
		var checkBoxId3 = aItems[2].getModeControl().getId();
		var checkBoxId4 = aItems[3].getModeControl().getId();
		var checkBoxId5 = aItems[4].getModeControl().getId();
		//qutils.triggerEvent("tap", checkBoxId1);
		//qutils.triggerEvent("tap", checkBoxId3);
		//qutils.triggerEvent("tap", checkBoxId5);
		var oCheckbox1 = sap.ui.getCore().byId(checkBoxId1);
		var oCheckbox3 = sap.ui.getCore().byId(checkBoxId3);
		var oCheckbox5 = sap.ui.getCore().byId(checkBoxId5);
		oCheckbox1.ontap();
		oCheckbox3.ontap();
		oCheckbox5.ontap();
		equal(sap.ui.getCore().byId(checkBoxId1).getSelected(), true, "MultiSelection: Item 1 should be checked");
		equal(sap.ui.getCore().byId(checkBoxId2).getSelected(), true, "MultiSelection: Item 2 should be checked");
		equal(sap.ui.getCore().byId(checkBoxId3).getSelected(), true, "MultiSelection: Item 3 should be checked");
		equal(sap.ui.getCore().byId(checkBoxId4).getSelected(), true, "MultiSelection: Item 4 should be checked");
		equal(sap.ui.getCore().byId(checkBoxId5).getSelected(), true, "MultiSelection: Item 5 should be checked");
	});


	test("selectionList switch to delete", function() {
		switchModeDelete();
		equals(oListSelection.getMode(), sap.m.ListMode.Delete, "Switch to Delete: Ok");
	});
	
	
	module("Properties", {
		setup: function() {
			sinon.config.useFakeTimers = true;
		},
		teardown: function() {
			sinon.config.useFakeTimers = false;
		}
	});
	

	test("StandardListItem activeIcon", function() {
		
		var sIcon = "sap-icon://up";
		var sActiveIcon = "sap-icon://down";
		var oStdLI = new sap.m.StandardListItem({
			title : "Title",
			icon : sIcon,
			activeIcon: sActiveIcon,
			type : sap.m.ListType.Active
		});
		
		var oList = new sap.m.List({
			items : [oStdLI]
		});
		
		oList.placeAt("qunit-fixture");
		sap.ui.getCore().applyChanges();
		var oIcon = oStdLI.$().find(".sapUiIcon").control(0);

		function createEvent(sEventName, oTarget, oParams) {
			var oEvent = jQuery.Event(sEventName);
			oEvent.originalEvent = {};
			oEvent.target = oTarget;
			if (oParams) {
				for (var x in oParams) {
					oEvent[x] = oParams[x];
					oEvent.originalEvent[x] = oParams[x];
				}
			}
			return oEvent;
		};

		var oTouchStart = createEvent("touchstart", oStdLI.getDomRef(), {
			srcControl : oStdLI,
			touches : [{
				clientX: 0,
				clientY: 0
			}],
			targetTouches : [{
				clientX: 0,
				clientY: 0
			}]
		});
		oStdLI.ontouchstart(oTouchStart);

		strictEqual(oIcon.getSrc(), sIcon, "Icon has correct path before active handling.");
		
		// wait active feedback
		this.clock.tick(300);
		
		strictEqual(oIcon.getSrc(), sActiveIcon, "Active icon has correct path during active handling");
		var oTouchEnd = createEvent("touchend", oStdLI.getDomRef(), {
			srcControl : oStdLI,
			targetTouches : [{
				clientX: 0,
				clientY: 0
			}]
		});
		oStdLI.ontouchend(oTouchEnd);

		strictEqual(oIcon.getSrc(), sActiveIcon, "Active icon is changed with the previous state after active handling");
	});
	
	module("StandartListItem RTL attributes");
	
	test("setter / getter titleTextDirection", function() {
		var oStdLI = new sap.m.StandardListItem({
			title : "123 456"
		});
		var oList = new sap.m.List({
			items : [oStdLI]
		});
		oList.placeAt("qunit-fixture");
		sap.ui.getCore().applyChanges();
		
		oStdLI.setTitleTextDirection(sap.ui.core.TextDirection.RTL);
		// Assert
		equals(oStdLI.getTitleTextDirection(), sap.ui.core.TextDirection.RTL, "Input value is "+sap.ui.core.TextDirection.RTL);
		
		// Clean up
		oList.destroy();
	});
	
	test("setter / getter infoTextDirection", function() {
		var oStdLI = new sap.m.StandardListItem({
			title : "Title",
			info : "+359 123 456"
		});
		var oList = new sap.m.List({
			items : [oStdLI]
		});
		oList.placeAt("qunit-fixture");
		sap.ui.getCore().applyChanges();
		
		oStdLI.setInfoTextDirection(sap.ui.core.TextDirection.RTL);
		// Assert
		equals(oStdLI.getInfoTextDirection(), sap.ui.core.TextDirection.RTL, "Input value is "+sap.ui.core.TextDirection.RTL);
		
		// Clean up
		oList.destroy();
	});
	
	test("StandardListItem titleTextDirection", function() {
		var oStdLI = new sap.m.StandardListItem({
			title : "123 456",
			titleTextDirection: sap.ui.core.TextDirection.LTR
			});
		
		var oList = new sap.m.List({
			items : [oStdLI]
		});
		
		oList.placeAt("qunit-fixture");
		sap.ui.getCore().applyChanges();

		var oTitle = oStdLI.$().find(".sapMSLITitleDiv").children(0);
		// Assert
		equals(oTitle.attr("dir"), 'ltr', "Title has attribute dir equal to ltr");
		
		// Clean up
		oList.destroy();
	});
	
	test("StandardListItem infoTextDirection", function() {
		var oStdLI = new sap.m.StandardListItem({
			title : "Title",
			info : "+359 1234 567",
			infoTextDirection: sap.ui.core.TextDirection.LTR
		});
		
		var oList = new sap.m.List({
			items : [oStdLI]
		});
		
		oList.placeAt("qunit-fixture");
		sap.ui.getCore().applyChanges();

		var oInfo = oStdLI.$().find(".sapMSLIInfo");
		// Assert
		equals(oInfo.attr("dir"), 'ltr', "Info has attribute dir equal to ltr");
		
		// Clean up
		oList.destroy();
	});

</script>


	<style>
	#content {
		height: 100%;
	}
	#mSAPUI5SupportMessage {
		display: none !important;
	}
	</style>


</head>
<body id="body" class="sapUiBody">
	<h1 id="qunit-header">qUnit Page for sap.m.List</h1>
	<h2 id="qunit-banner"></h2>
	<h2 id="qunit-userAgent"></h2>
	<ol id="qunit-tests"></ol>
	<div id="content"></div>
	<div id="qunit-fixture"></div>
</body>
</html>
