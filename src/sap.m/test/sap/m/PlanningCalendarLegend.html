<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>PlanningCalendarLegend - sap.m</title>
	<link rel="shortcut icon" type="image/x-icon" href="images/controls/sap.m.PlanningCalendar.gif">

	<script src="shared-config.js"></script>
	<script src="../../../resources/sap-ui-core.js"
			id="sap-ui-bootstrap"
			data-sap-ui-libs="sap.ui.layout, sap.m, sap.ui.unified">
	</script>

	<script>
		var oPCLegendAll = new sap.m.PlanningCalendarLegend({
			standardItems: [sap.ui.unified.StandardCalendarLegendItem.WorkingDay, sap.ui.unified.StandardCalendarLegendItem.NonWorkingDay],
			items: [
				(function () { //creates items for all 20 values in CalendarDayType
					var aAllItems = [], iMax = 20, sType = "";
					for (var i = 1; i<=iMax; i++) {
						sType = "Type" + (i < 10 ? "0" + i : i);
						aAllItems.push(new sap.ui.unified.CalendarLegendItem({
							type: sap.ui.unified.CalendarDayType[sType],
							text: sType + ": calendar date related"
						}));
					}
					return aAllItems;
				})()
			],
			appointmentItems: [
				new sap.ui.unified.CalendarLegendItem("T31", {
					type: sap.ui.unified.CalendarDayType.Type01,
					text: "Type 1: calendar appointment related"
				}),
				new sap.ui.unified.CalendarLegendItem("T32", {
					type: sap.ui.unified.CalendarDayType.Type02,
					text: "Type 2: calendar appointment related"
				}),
				new sap.ui.unified.CalendarLegendItem("T33", {
					type: sap.ui.unified.CalendarDayType.Type12,
					text: "Type 12: calendar appointment related"
				})
			]
		});

		var oPCLegendStandardItemsOnly = new sap.m.PlanningCalendarLegend();
		var oPCLegendCustomStandardItemsOnly = new sap.m.PlanningCalendarLegend({
			standardItems: [sap.ui.unified.StandardCalendarLegendItem.WorkingDay, sap.ui.unified.StandardCalendarLegendItem.NonWorkingDay]
		});
		var oPCLegendDefaultStandardItemsAndCustomItems = new sap.m.PlanningCalendarLegend({
			items: [
				new sap.ui.unified.CalendarLegendItem("T1", {
					type: sap.ui.unified.CalendarDayType.Type01,
					text: "Type 1 app developers can set the text to whatever they want"
				}),
				new sap.ui.unified.CalendarLegendItem("T2", {
					type: sap.ui.unified.CalendarDayType.Type02,
					text: "Type 2 app developers can set the text to whatever they want"
				}),
				new sap.ui.unified.CalendarLegendItem("T3", {
					type: sap.ui.unified.CalendarDayType.Type03,
					text: "Type 3 app developers can set the text to whatever they want"
				}),
				new sap.ui.unified.CalendarLegendItem("T4", {
					type: sap.ui.unified.CalendarDayType.Type04,
					text: "Type 4 app developers can set the text to whatever they want"
				}),
				new sap.ui.unified.CalendarLegendItem("T5", {
					type: sap.ui.unified.CalendarDayType.Type05,
					text: "Type 5 app developers can set the text to whatever they want"
				}),
				new sap.ui.unified.CalendarLegendItem("T6", {
					type: sap.ui.unified.CalendarDayType.Type06,
					text: "Type 6 app developers can set the text to whatever they want"
				}),
				new sap.ui.unified.CalendarLegendItem("T7", {
					type: sap.ui.unified.CalendarDayType.Type07,
					text: "Type 7 app developers can set the text to whatever they want"
				}),
				new sap.ui.unified.CalendarLegendItem("T8", {
					type: sap.ui.unified.CalendarDayType.Type08,
					text: "Type 8 app developers can set the text to whatever they want"
				}),
				new sap.ui.unified.CalendarLegendItem("T9", {
					type: sap.ui.unified.CalendarDayType.Type09,
					text: "Type 9 app developers can set the text to whatever they want"
				}),
				new sap.ui.unified.CalendarLegendItem("T10", {
					type: sap.ui.unified.CalendarDayType.Type20,
					text: "Type 20 app developers can set the text to whatever they want"
				})
			]
		});
		//
		var oPCLegendCustomStandardItemsAndCustomItems = new sap.m.PlanningCalendarLegend({
			standardItems: [sap.ui.unified.StandardCalendarLegendItem.WorkingDay, sap.ui.unified.StandardCalendarLegendItem.NonWorkingDay],
			items: [
				new sap.ui.unified.CalendarLegendItem("T11", {
					type: sap.ui.unified.CalendarDayType.Type01,
					text: "Type 1"
				}),
				new sap.ui.unified.CalendarLegendItem("T12", {
					type: sap.ui.unified.CalendarDayType.Type02,
					text: "Type 2"
				}),
				new sap.ui.unified.CalendarLegendItem("T13", {
					type: sap.ui.unified.CalendarDayType.Type03,
					text: "Type 3"
				}),
				new sap.ui.unified.CalendarLegendItem("T14", {
					type: sap.ui.unified.CalendarDayType.Type04,
					text: "Type 4"
				}),
				new sap.ui.unified.CalendarLegendItem("T15", {
					type: sap.ui.unified.CalendarDayType.Type05,
					text: "Type 5"
				}),
				new sap.ui.unified.CalendarLegendItem("T16", {
					type: sap.ui.unified.CalendarDayType.Type06,
					text: "Type 6"
				}),
				new sap.ui.unified.CalendarLegendItem("T17", {
					type: sap.ui.unified.CalendarDayType.Type07,
					text: "Type 7"
				}),
				new sap.ui.unified.CalendarLegendItem("T18", {
					type: sap.ui.unified.CalendarDayType.Type08,
					text: "Type 8"
				}),
				new sap.ui.unified.CalendarLegendItem("T19", {
					type: sap.ui.unified.CalendarDayType.Type09,
					text: "Type 9"
				}),
				new sap.ui.unified.CalendarLegendItem("T20", {
					type: sap.ui.unified.CalendarDayType.Type20,
					text: "Type 20"
				})
			]
		});

		var app = new sap.m.App("myApp");

		var oEventLabel = new sap.m.Label({text: "Events log"});

		//adds some event info to the event log label
		function setEventLog(sMessage) {
			oEventLabel.setText(sMessage);
			oEventLabel.$().attr('style', "background-color: rgb(" + Math.ceil(Math.random() * 255).toString() + "," + Math.ceil(Math.random() * 255).toString() + "," + Math.ceil(Math.random() * 255).toString() + ");");
		}


		function createChangeWidthInput(oPCLegend) {
			return new sap.m.HBox({
				alignItems: sap.m.FlexAlignItems.Center,
				items: [
					new sap.m.Label({text: "columnWidth:"}),
					new sap.m.Input({
						value: "auto",
						width: "100px",
						change: function (oEvent) {
							oPCLegend.setColumnWidth(oEvent.getParameter("newValue"));
						}
					})]
			});
		}
		var oPage = new sap.m.Page("oPlanningCalendarLegendPage", {
			title: "PlanningCalendarLegend",
			content: [
				new sap.m.HBox({
					items: [
						new sap.m.Panel({
							headerText: "PlanningCalendarLegend with custom standard items & custom items & appointment items",
							content: [createChangeWidthInput(oPCLegendAll), oPCLegendAll]
						}),
						new sap.m.Panel({
							headerText: "PlanningCalendarLegend in compact mode",
							content: [createChangeWidthInput(oPCLCompact = oPCLegendAll.clone().addStyleClass("sapUiSizeCompact")), oPCLCompact]
						}),
						new sap.m.Panel({
							headerText: "PlanningCalendarLegend with default standard items & custom items",
							content: [createChangeWidthInput(oPCLegendDefaultStandardItemsAndCustomItems), oPCLegendDefaultStandardItemsAndCustomItems]
						})
					]
				}),
				new sap.m.HBox({
					items: [
						new sap.m.Panel({
							headerText: "PlanningCalendarLegend with default standard items only",
							content: [createChangeWidthInput(oPCLegendStandardItemsOnly), oPCLegendStandardItemsOnly]
						}),
						new sap.m.Panel({
							headerText: "PlanningCalendarLegend with custom standard items only",
							content: [createChangeWidthInput(oPCLegendCustomStandardItemsOnly), oPCLegendCustomStandardItemsOnly]
						}),
					]
				}),
				new sap.m.HBox({
					items: [
						new sap.m.Panel({
							headerText: "PlanningCalendarLegend with custom standard items & custom items",
							content: [createChangeWidthInput(oPCLegendCustomStandardItemsAndCustomItems), oPCLegendCustomStandardItemsAndCustomItems]
						}),
						new sap.m.Panel({
							headerText: "PlanningCalendarLegend in Dialog and Popover",
							content: [
								new sap.m.Button({text: "Open Legend in Dialog", press: function() {
								if (!this._oDialog) {
									this._oDialog = new sap.m.Dialog({
										title: "PlanningCalendar Legend in sap.m.Dialog",
										content: [oPCLegendDefaultStandardItemsAndCustomItems.clone()],
										endButton: new sap.m.Button({
											text: "Close",
											press: function() {
												this.getParent().close();
											}
										})
									});
								}
								this._oDialog.open();
							}}),
								new sap.m.Button({text: "Open Legend as Popover", press: function() {
									if (!this._oPopover) {
										this._oPopover = new sap.m.Popover({
											content: [oPCLegendDefaultStandardItemsAndCustomItems.clone()],
											showHeader: false
										});
									}
									this._oPopover.openBy(this);
								}}),
							]
						}),
					]
				}),
			],
			footer: new sap.m.Bar({contentMiddle: [oEventLabel]})
		});

		app.addPage(oPage);
		app.placeAt("body");
	</script>

</head>
<body id="body" class="sapUiBody">
</body>
</html>
