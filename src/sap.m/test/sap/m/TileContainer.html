<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="X-UA-Compatible" content="IE=edge">

		<title>TileContainer - sap.m</title>

		<script src="shared-config.js"></script>
		<script src="../../../resources/sap-ui-core.js"
			id="sap-ui-bootstrap"
			data-sap-ui-libs="sap.m">
		</script>

		<style>
			.whiteView {
				background-color: white;
			}
		</style>

		<script>
			function handlePress(oEvent) {
				alert('tile ' + oEvent.oSource.getTitle() + ' pressed');
			}

			var oTC = new sap.m.TileContainer("tc",{
				width: "100%",
				height: "100%",
				tiles:[
					new sap.m.StandardTile({
						type : "Create",
						info : "28 days left",
						infoState : "Success",
						title : "Create Leave Request",
						removable: false
					}),
					new sap.m.StandardTile({
						icon : "images/action.png",
						title : "Leave Request History",
						type: "Monitor"
					}),
					new sap.m.StandardTile({
						icon : "images/travel_expense_report.png",
						info : "Waiting for Approval",
						infoState : "Warning",
						number : "787",
						numberUnit : "euro",
						title : "Travel Reimbursement"
					}),
					new sap.m.StandardTile({
						icon : "images/action.png",
						title : "Travel Reimbursement History",
						type: "Monitor"
					}),
					new sap.m.StandardTile({
						type : "Create",
						info : "On Hold",
						infoState : "Error",
						title : "Create Purchase Order"
					}),
					new sap.m.StandardTile({
						icon : "images/analytics_64.png",
						title : "Financial report",
						type: "Monitor"
					}),
					new sap.m.StandardTile({
						icon : "images/analytics_grey_64.png",
						title : "Team Report",
						type: "Monitor",
						removable: false
					}),
					new sap.m.StandardTile({
						type : "Create",
						info : "28 days left",
						infoState : "Success",
						title : "Create Leave Request"
					}),
					new sap.m.StandardTile({
						icon : "images/action.png",
						title : "Leave Request History",
						type: "Monitor"
					}),
					new sap.m.StandardTile({
						icon : "images/travel_expense_report.png",
						info : "Waiting for Approval",
						infoState : "Warning",
						number : "787",
						numberUnit : "euro",
						title : "Travel Reimbursement"
					}),
					new sap.m.StandardTile({
						icon : "images/action.png",
						title : "Travel Reimbursement History",
						type: "Monitor"
					}),
					new sap.m.StandardTile({
						type : "Create",
						info : "On Hold",
						infoState : "Error",
						title : "Create Purchase Order"
					}),
					new sap.m.StandardTile({
						icon : "images/analytics_64.png",
						title : "Financial report",
						type: "Monitor"
					}),
					new sap.m.StandardTile({
						icon : "images/analytics_grey_64.png",
						title : "Team Report",
						type: "Monitor"
					}),
					new sap.m.StandardTile({
						type : "Create",
						info : "28 days left",
						infoState : "Success",
						title : "Create Leave Request"
					}),
					new sap.m.StandardTile({
						icon : "images/action.png",
						title : "Leave Request History",
						type: "Monitor"
					}),
					new sap.m.StandardTile({
						icon : "images/travel_expense_report.png",
						info : "Waiting for Approval",
						infoState : "Warning",
						number : "787",
						numberUnit : "euro",
						title : "Travel Reimbursement"
					}),
					new sap.m.StandardTile({
						icon : "images/action.png",
						title : "Travel Reimbursement History",
						type: "Monitor"
					}),
					new sap.m.StandardTile({
						type : "Create",
						info : "On Hold",
						infoState : "Error",
						title : "Create Purchase Order"
					}),
					new sap.m.StandardTile({
						icon : "images/analytics_64.png",
						title : "Financial report",
						type: "Monitor"
					}),
					new sap.m.StandardTile({
						icon : "images/analytics_grey_64.png",
						title : "Team Report",
						type: "Monitor"
					})
				],
				tileDelete: function(evt){
					var tile = evt.getParameter("tile");
					evt.getSource().removeTile(tile);
				}
			});

			var page1 = new sap.m.Page({
				content: oTC,
				footer: new sap.m.Bar({
					contentRight: [
						new sap.m.ToggleButton({
							text: "Edit",
							press: function (evt) {
								var newValue = !oTC.getEditable();
								evt.getSource().getPressed() ? evt.getSource().setText("Done") : evt.getSource().setText("Edit");
								oTC.setEditable(newValue);
							}
						}),
						new sap.m.ToggleButton({
							text: "Busy",
							press: function (evt) {
								var newValue = !oTC.getBusy();
								evt.getSource().getPressed() ? evt.getSource().setText("Done") :  evt.getSource().setText("Busy state");
								oTC.setBusy(newValue);
							}
						}),
						new sap.m.Button({
							text: 'To Page 2',
							press: function () {
								app.to(page2.getId());
								setTimeout(function () {
									page2.$("cont").height("0px");
								}, 100);
							}
						})
					]
				})
			});

			var page2 = new sap.m.Page({
				showHeader: true,
				title: "Add Tiles when height is 0"
			});
			var tc2 = new sap.m.TileContainer({
				height: '70%'
			});
			page2.addContent(tc2);
			page2.setFooter(new sap.m.Bar({
				contentMiddle: [
					new sap.m.Button({
						text: "Add Tile", press: function () {
							tc2.addTile(new sap.m.StandardTile({
								icon: "images/action.png",
								number: "Busy state test1",
								numberUnit: "Unit",
								info: "10 day ago"
							}));
						}
					}),
					new sap.m.Button({
						text: 'Restore height', press: function () {
							page2.$("cont").height("100%");
						}
					}),
					new sap.m.Button({
						text: 'Back to Page 1', press: function () {
							app.to(page1.getId())
						}
					})
				]
			}));


			var app = new sap.m.App({
				initialPage: page1.getId()
			});

			app.addPage(page1);
            app.addPage(page2);
			app.placeAt('body');

		</script>

	</head>
	<body id="body" class="sapUiBody">
	</body>
</html>
