<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/>

		<title>ScrollContainer - sap.m</title>

		<script src="../../../resources/sap-ui-core.js"
				id="sap-ui-bootstrap"
				data-sap-ui-libs="sap.m,sap.ui.layout"
				data-sap-ui-theme="sap_bluecrystal">
		</script>

		<script>
			var oApp = new sap.m.App("myApp", {initialPage: "oPage1"});

			var oBigContent = new sap.ui.core.HTML({content: "<div id='cont1'><input type='text'>abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz<br>123<br>456<br>789<br>1<br>2<br>3<br>4<br><input type='text'>abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz<br>123<br>456<br>789<br>1<br>2<br>3<br>4<br>abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz<br>123<br>456<br>789<br>1<br>2<br>3<br>4<br>abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz<br>123<br>456<br>789<br>1<br>2<br>3<br>4<br>abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz<br>123<br>456<br>789<br>1<br>2<br>3<br>4<br>1<br>2<br>3<br>4<br>abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz<br>123<br>456<br>789<br>1<br>2<br>3<br>4<br></div>"});
		var oScrollContainer1 = new sap.m.ScrollContainer("oScrollContainer1", {
				horizontal: true,
				vertical: true,
				content: [oBigContent],
				height: "400px",
				width: "200px"
			});

			var oBigContent2 = new sap.ui.core.HTML({
				content: "<div id='cont1'><input type='text'><strong id='atTheBeginningOfALongLine'>atTheBeginningOfALongLine</strong>" +
				"abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcdefghijklmno" +
				"pqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcdefg" +
				"hijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz" +
				"abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstu" +
				"vwxyzabcdefghijklmnopqrstuvwxyz<strong id='atTheEndOfALongLine'>atTheEndOfALongLine</strong>" +
				"<br>123<br>456<br>789<br>1<br>2<br>3<br>4<br><input type='text'>" +
				"abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz<br>123<br>456<br>" +
				"789<br>1<br>2<br>3<br>4<br>abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz" +
				"<br>123<br>456<br>789<br>1<br>2<br>3<br>4<br>abcdefghijklmnopqrstuvwxyzabcdefghijk" +
				"lmnopqrstuvwxyz<br>123<br>456<br>789<br>1<br>2<br>3<br>4<br>abcdefghijklmnopqrstuvwxyz" +
				"abcdefghijklmnopqrstuvwxyz<br>123<br>456<br>789<br>1<br>2<br>3<br>4<br>1<br>" +
				"2<br>3<br>4<br>abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz<br>123<br>456<br>" +
				"789<br>1<br>2<br>3<br>4<br>abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcdefghijklmno" +
				"<input type='text' value='input down' id='inputDown'>abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcdefghijklmno" +
				"</div>"
			});

			var oBigContent2he = new sap.ui.core.HTML({
				content: "<div id='cont1'>למ<input type='text'><strong id='atTheBeginningOfALongLine'>atTheBeginningOfALongLine</strong>" +
				"למחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקה" +
				"למחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקה" +
				"למחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקה" +
				"למחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקה" +
				"למחיקהלמחיקהלמחיקהלמחיקה<strong id='atTheEndOfALongLine'>atTheEndOfALongLine</strong>" +
				"<br>123<br>456<br>789<br>1<br>2<br>3<br>4<br><input type='text'>" +
				"למחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקה<br>123<br>456<br>" +
				"789<br>1<br>2<br>3<br>4<br>למחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקה" +
				"<br>123<br>456<br>789<br>1<br>2<br>3<br>4<br>למחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקה" +
				"למחיקהלמחיקהלמחיקהלמחיקה<br>123<br>456<br>789<br>1<br>2<br>3<br>4<br>למחיקהלמחיקהלמחיקהלמחיקהלמחיקה" +
				"למחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקה<br>123<br>456<br>789<br>1<br>2<br>3<br>4<br>1<br>" +
				"2<br>3<br>4<br>למחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקה<br>123<br>456<br>" +
				"789<br>1<br>2<br>3<br>4<br>למחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקה" +
				"<strong id='inputDown'>inputDown</strong>למחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקהלמחיקה" +
				"</div>"
			});

			var sContent = "";

			for (var i = 1; i <= 1200; i++) {
				sContent += "<div style=\"display: inline-block; text-align: center; color: white; width: 50px; height: 30px; background-color:rgb(" + Math.round(Math.random()*100) + "," + Math.round(Math.random()*100) + "," + Math.round(Math.random()*100) + ");\" id=\"div-" + i + "\">"+ i +"</div>";

				if (i%20 == 0) {
					sContent+="<br>";
				}
			}

			var oScrollContainer3 = new sap.m.ScrollContainer({
				horizontal: true,
				vertical: true,
				content: [],
				height: "300px",
				width: "100%"
			});

			var oScrollContainer4 = new sap.m.ScrollContainer("oScrollContainer4", {
				horizontal: true,
				vertical: true,
				content: [],
				width: "400px",
				height: "300px",
			});

			var oHtmlContent = new sap.ui.core.HTML({
				content: sContent
			});

			oScrollContainer4.addContent(oHtmlContent);

			if (sap.ui.getCore().getConfiguration().getRTL()) {
				oScrollContainer3.addContent(oBigContent2he);
			}
			else {
				oScrollContainer3.addContent(oBigContent2);
			}

			var oHorizontalLayout = new sap.ui.layout.HorizontalLayout('oHorizontalLayout', {
				content: [
					oScrollContainer3,
					new sap.ui.layout.VerticalLayout({
						content: [
							new sap.m.Button({
								text: "Scroll to <span> element at very long line's end at top of scrolling area",
								press: function() {
									var oSpan = document.getElementById("atTheEndOfALongLine");
									oScrollContainer3.scrollToElement(oSpan);
									oSpan.style.color = "red";
								}
							}),
							new sap.m.Button({
								text: "Scroll to <span> element at very long line's beginning at top of scrolling area",
								press: function() {
									var oSpan = document.getElementById("atTheBeginningOfALongLine");
									oScrollContainer3.scrollToElement(oSpan);
									oSpan.style.color = "magenta";
								}
							}),
							new sap.m.Button({
								text: "Scroll to <input> element at beginning of a line at bottom of scrolling area",
								press: function() {
									var scrollToInput = document.getElementById("inputDown");
									oScrollContainer3.scrollToElement(scrollToInput);
									scrollToInput.style.color = "red";
								}
							})
						]
					})
				]
			});

			oHorizontalLayout2 = new sap.ui.layout.HorizontalLayout({
				content: [
					oScrollContainer4,
					new sap.ui.layout.VerticalLayout({
						content: [
							new sap.m.Input("input", {
								width: "200px"
							}),
							new sap.m.Button({
								text: "Scroll to div number",
								press: function() {
									var sValue = sap.ui.getCore().byId("input").getValue();
									var $Element = jQuery("#div-" + sValue);
									sap.ui.getCore().byId("oScrollContainer4").scrollToElement($Element[0]);
									$Element.css("background-color", "white");
									$Element.css("border", "skyblue");
								}
							})
						]
					})
				]
			});

			var oPage1 = new sap.m.Page("oPage1", {
				title: "ScrollContainer Test",
				enableScrolling: true,
				content: [
					new sap.m.Button({
						text: "nop"
					}),
					oScrollContainer1,
					new sap.m.ScrollContainer("oScrollContainer2", {
						content: [
							new sap.m.Image({
									src: "images/SAPLogo.jpg", width: "150px"
								}),
							new sap.m.Image({
								src: "images/SAPUI5.png",
								width: "100px",
								height: "100px",
								densityAware: false
							}),
							new sap.m.Image({
								src: "images/SAPLogo.jpg", width: "150px"
							}),
							new sap.m.Image({
								src: "images/SAPUI5.png",
								width: "100px",
								height: "100px",
								densityAware: false
							}),
							new sap.m.Image({
								src: "images/SAPLogo.jpg", width: "150px"
							}),
							new sap.m.Image({
								src: "images/SAPUI5.png",
								width: "100px",
								height: "100px",
								densityAware: false
							}),
							new sap.m.Image({
								src: "images/SAPLogo.jpg", width: "150px"
							}),
							new sap.m.Image({
								src: "images/SAPUI5.png",
								width: "100px",
								height: "100px",
								densityAware: false
							}),
						],
						height: "120px"
					}),
					new sap.m.Label({
						text: "X:"
					}),
					new sap.m.Input("xIn", {
						value: 50
					}),
					new sap.m.Label({
						text: "Time:"
					}),
					new sap.m.Input("tIn", {
						value: 500
					}),
					new sap.m.Button({
						text: "Scroll", press: function() {
							var oCore = sap.ui.getCore();
							var x = parseInt(oCore.byId("xIn").getValue());
							var t = parseInt(oCore.byId("tIn").getValue());
							oCore.byId("oScrollContainer2").scrollTo(x, 0, t);
						}
					}),
					new sap.m.Button({
						text: "Rerender Page", press: function() {
							oPage1.rerender();
						}
					}),
					oHorizontalLayout,
					oHorizontalLayout2
				]
			});

			sap.ui.getCore().byId("oScrollContainer2").attachEvent("scrollEnd", function(evt) {
				var x = evt.getParameter("x");
				var oPage1 = sap.ui.getCore().byId("oPage1");
				var oHtml = new sap.ui.core.HTML({content: "<div>" + new Date().getTime() + ": Rerender on scrollEnd at x=" + x + "</div>"});
				setTimeout(function() {
					oPage1.addContent(oHtml);
				}, 0);
			});

			oApp.addPage(oPage1);

			oApp.placeAt("body");

		</script>

		<style>
			#cont1 {
				width: 400px;
			}

			#oHorizontalLayout {
				display: block;
			}

			#oScrollContainer2, #oScrollContainer4-scroll {
				white-space: nowrap;
			}

			#oScrollContainer2-scroll {
				min-width: 650px;
			}

			#myLayout {
				width: 100%;
				margin-top: 80px;
			}
			#width {
				width:2000px;
			}
			#container {
				height: 275px;
				width: 400px;
				overflow-x: auto;
				max-height: 275px;
			}
		</style>

	</head>
	<body id="body" class="sapUiBody">
	</body>
</html>
