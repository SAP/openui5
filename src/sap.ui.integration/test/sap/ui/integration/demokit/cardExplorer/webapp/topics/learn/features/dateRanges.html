<!DOCTYPE html>
<html lang="en">
<head>
	<title>Date Ranges</title>
	<meta http-equiv="Content-Type" content="text/html">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta charset="utf-8">
	<link rel="stylesheet" href="../../../css/topic.css">
	<link rel="stylesheet" href="../../../../../../../../../../resources/sap/ui/core/themes/sap_fiori_3/library.css">

	<link rel="stylesheet" href="../../../../../../../../../../resources/sap/ui/documentation/sdk/thirdparty/google-code-prettify/prettify.css">
	<script src="../../../../../../../../../../resources/sap/ui/documentation/sdk/thirdparty/google-code-prettify/prettify.js"></script>
	<script src="../../../../../../../../../../resources/sap/ui/documentation/sdk/thirdparty/google-code-prettify/run-prettify.js"></script>
</head>
<body class="sapUiBody topicBody">

<div class="topic">
	<div class="content">

		<h1>
			Date Ranges
		</h1>

		<h2 id="overview">
			Overview
		</h2>

		<p>
			In this section you can find information on how to handle the construction of complex date expressions. More specifically how to construct the start or end date of a period and use it for displaying or for querying data service.
			Together with the <a href="../../../index.html#/learn/features/manifestParameters" target="_parent">Predefined Manifest Parameters</a> <code>TODAY_ISO</code> and <code>NOW_ISO</code> cards provide a helper for handling date ranges.
		</p>

		<h2 id="dateRange">
			Date Range
		</h2>

		<p>
			Inside the card manifest you can use the global functions <code>dateRange.start</code> and <code>dateRange.end</code> to create the start or the end date of a date range.
			For example, a date range like 'last 5 years' can be used inside an expression binding like this: <code>{= dateRange.start("lastYears", 5)}</code>.
		</p>

		<div class="messageStripWarning">
			Experimental API since version 1.73. This feature is experimental. The API may change.
		</div>
		<p>
			<code>dateRange.start(type, value?) : UniversalDate</code>
		</p>
		<p>
			<code>dateRange.end(type, value?) : UniversalDate</code>
		</p>
		<div class="tableWrapper">
			<table>
				<tbody>
					<tr>
						<th>Param</th>
						<th>Type</th>
						<th>Description</th>
						<th>Since</th>
					</tr>
					<tr>
						<td>type</td>
						<td>string</td>
						<td>A valid date range type like 'lastYears'. For full list see the table below.</td>
						<td>1.73</td>
					</tr>
					<tr>
						<td>value</td>
						<td>int</td>
						<td>How many years, days, months, etc. to be the range. If range is 'lastYears' this parameter describes how many years.</td>
						<td>1.73</td>
					</tr>
				</tbody>

				<tbody>
					<tr>
						<th>Returns</th>
						<th></th>
						<th></th>
						<th>1.73</th>
					</tr>
					<tr>
						<td></td>
						<td>UniversalDate</td>
						<td>The start/end date of the range. UniversalDate is convertable to Date or string.</td>
						<td>1.73</td>
					</tr>
				</tbody>
			</table>
		</div>

		<h3>
			Supported date ranges
		</h3>

		<div class="tableWrapper">
			<table class="plainFirstColumn">
				<tr>
					<th><code>type</code></th>
					<th>Description</th>
					<th><code>value</code></th>
				</tr>
				<!-- days -->
				<tr>
					<td>lastDays</td>
					<td>Number of days before the current day</td>
					<td>Number of days</td>
				</tr>
				<tr>
					<td>yesterday</td>
					<td>Start and end of yesterday's date</td>
					<td></td>
				</tr>
				<tr>
					<td>today</td>
					<td>Start and end of today's date</td>
					<td></td>
				</tr>
				<tr>
					<td>tomorrow</td>
					<td>Start and end of tomorrow's date</td>
					<td></td>
				</tr>
				<tr>
					<td>nextDays</td>
					<td>Number of days after the current day</td>
					<td>Number of days</td>
				</tr>

				<!-- weeks -->
				<tr>
					<td>lastWeeks</td>
					<td>Number of weeks before the current week</td>
					<td>Number of weeks</td>
				</tr>
				<tr>
					<td>lastWeek</td>
					<td>Start and end of last week</td>
					<td></td>
				</tr>
				<tr>
					<td>currentWeek</td>
					<td>Start and end of the current week</td>
					<td></td>
				</tr>
				<tr>
					<td>nextWeek</td>
					<td>Start and end of next week's</td>
					<td></td>
				</tr>
				<tr>
					<td>nextWeeks</td>
					<td>Number of weeks after the current week</td>
					<td>Number of weeks</td>
				</tr>

				<!-- months -->
				<tr>
					<td>lastMonths</td>
					<td>Number of months before the current month</td>
					<td>Number of months</td>
				</tr>
				<tr>
					<td>lastMonth</td>
					<td>Start and end of last month</td>
					<td></td>
				</tr>
				<tr>
					<td>currentMonth</td>
					<td>Start and end of current month</td>
					<td></td>
				</tr>
				<tr>
					<td>nextMonth</td>
					<td>Start and end of next month</td>
					<td></td>
				</tr>
				<tr>
					<td>nextMonths</td>
					<td>Number of months after the current month</td>
					<td>Number of months</td>
				</tr>

				<!-- quarters -->
				<tr>
					<td>lastQuarters</td>
					<td>Start and end of the number of quarters before the current quarter</td>
					<td>Number of quarters</td>
				</tr>
				<tr>
					<td>lastQuarter</td>
					<td>Start and end of last quarter</td>
					<td></td>
				</tr>
				<tr>
					<td>currentQuarter</td>
					<td>Start and end of current quarter</td>
					<td></td>
				</tr>
				<tr>
					<td>nextQuarter</td>
					<td>Start and end of next quarter</td>
					<td></td>
				</tr>
				<tr>
					<td>nextQuarters</td>
					<td>Start and end of number of quarters after the current quarter</td>
					<td>Number of quarters</td>
				</tr>
				<tr>
					<td>quarter</td>
					<td>Start and end of the specified quarter of the current year</td>
					<td>Which quarter</td>
				</tr>

				<!-- years -->
				<tr>
					<td>lastYears</td>
					<td>Number of years before the current year</td>
					<td>Number of years</td>
				</tr>
				<tr>
					<td>lastYear</td>
					<td>Start and end of last year</td>
					<td></td>
				</tr>
				<tr>
					<td>currentYear</td>
					<td>Start and end of current year</td>
					<td></td>
				</tr>
				<tr>
					<td>nextYear</td>
					<td>Start and end of next year</td>
					<td></td>
				</tr>
				<tr>
					<td>nextYears</td>
					<td>Number of years after the current year</td>
					<td>Number of years</td>
				</tr>
				<tr>
					<td>yearToDate</td>
					<td>Range between the first day of the current year and today</td>
					<td></td>
				</tr>
			</table>
		</div>

		<h2 id="examples">
			Examples
		</h2>

		<div class="tableWrapper">
			<table class="plainFirstColumn">
				<tr>
					<th>Expression</th>
					<th>Result if today is 2019-11-01</th>
				</tr>
				<tr>
					<td><code>{= dateRange.start('lastYears', 5)}</code></td>
					<td>2014-01-01T00:00:00</td>
				</tr>
				<tr>
					<td><code>{= dateRange.end('lastYears', 5)}</code></td>
					<td>2018-12-31T23:59:59</td>
				</tr>
				<tr>
					<td><code>{= dateRange.start('yesterday')}</code></td>
					<td>2019-10-31T00:00:00</td>
				</tr>
				<tr>
					<td><code>{= dateRange.end('nextQuarter')}</code></td>
					<td>2020-03-31T23:59:59</td>
				</tr>
			</table>
		</div>

		<p>Date range in title:</p>
		<pre class="prettyprint  lang-js">{
	"header": {
		"title": "Expectations for next 6 months",
		"subTitle": "Until {= format.dateTime(dateRange.end('nextMonths', 6), {pattern: 'MMMM, y'})}"
	}
}</pre>

		<p>Date range used in odata request:</p>
		<pre class="prettyprint  lang-js">{
	"data": {
		"request": {
			"url": "https/services.odata.org/V3/Northwind/Northwind.svc/Orders",
			"parameters": {
				"$format": "json",
				"$top": 5,
				"$orderby": "Freight desc",
				"$filter": "OrderDate ge datetime'{= format.dateTime(dateRange.start('lastYears', 30), {pattern: 'yyyy-MM-ddTHH:mm:ss'})}'"
			}
		},
		"path": "/value/"
	}
}</pre>
		<a class="try-button" href="../../../index.html#/explore/dateRange" target="_parent">Try it Out</a>
	</div>
	<div class="navigation">
		<h4>Table of Contents</h4>
		<div><a href="#overview">Overview</a></div>
		<div><a href="#dateRange">Date Range</a></div>
		<div><a href="#examples">Examples</a></div>
	</div>
</div>
</body>
</html>
